<!DOCTYPE html>
<html lang="en"><head>
<script src="06-text_data_files/libs/clipboard/clipboard.min.js"></script>
<script src="06-text_data_files/libs/quarto-html/tabby.min.js"></script>
<script src="06-text_data_files/libs/quarto-html/popper.min.js"></script>
<script src="06-text_data_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="06-text_data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="06-text_data_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="06-text_data_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="06-text_data_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>Dummy variables and bag-of-words</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="06-text_data_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="06-text_data_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="06-text_data_files/libs/revealjs/dist/theme/quarto.css">
  <link href="06-text_data_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="06-text_data_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="06-text_data_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="06-text_data_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Dummy variables and bag-of-words</h1>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="the-story-this-week" class="title-slide slide level1 center">
<h1>The story this week</h1>

</section>
<section id="distances" class="slide level2">
<h2>Distances</h2>
<ul>
<li class="fragment"><p>We measure similarity between <strong>observations</strong> by calculating <strong>distances</strong>.</p></li>
<li class="fragment"><p><strong>Euclidean distance</strong>: sum of squared differences, then square root</p></li>
<li class="fragment"><p><strong>Manhattan distance</strong>: sum of absolute differences</p></li>
<li class="fragment"><p>In <strong>scikit-learn</strong>, use the <code>pairwise_distances</code> function to get back a <em>2D numpy array</em> of distances.</p></li>
</ul>
</section>
<section id="scaling" class="slide level2">
<h2>Scaling</h2>
<ul>
<li class="fragment"><p>It is important that all our <strong>features</strong> be on the same <strong>scale</strong> for distances to be meaningful.</p></li>
<li class="fragment"><p><strong>Standardize:</strong> Subtract the <em>mean</em> (of the column) and divide by the <em>standard deviation</em> (of the column).</p></li>
<li class="fragment"><p><strong>MinMax:</strong> Subtract the <em>minimum</em> value, divide by the <em>range</em>.</p></li>
<li class="fragment"><p>In <code>scikit-learn</code>, use the <code>StandardScaler()</code> or <code>MinMaxScaler()</code> functions.</p></li>
<li class="fragment"><p>Follow the <strong>specify</strong> - <strong>fit</strong> - <strong>transform</strong> code structure.</p></li>
</ul>
</section>
<section id="recall-ames-housing-data" class="slide level2">
<h2>Recall: AMES Housing data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>df <span class="op">=</span> pd.read_table(<span class="st">"https://datasci112.stanford.edu/data/housing.tsv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>features <span class="op">=</span> [<span class="st">"Gr Liv Area"</span>, <span class="st">"Bedroom AbvGr"</span>, <span class="st">"Full Bath"</span>, <span class="st">"Half Bath"</span>, <span class="st">"Bldg Type"</span>, <span class="st">"Neighborhood"</span>]</span>
<span id="cb1-3"><a href="#cb1-3"></a>df[features].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Gr Liv Area  Bedroom AbvGr  Full Bath  Half Bath Bldg Type Neighborhood
0         1656              3          1          0      1Fam        NAmes
1          896              2          1          0      1Fam        NAmes
2         1329              3          1          1      1Fam        NAmes
3         2110              3          2          1      1Fam        NAmes
4         1629              3          2          1      1Fam      Gilbert</code></pre>
</div>
</div>
</section></section>
<section>
<section id="distances-and-categorical-variables" class="title-slide slide level1 center">
<h1>Distances and Categorical Variables</h1>

</section>
<section id="what-about-categorical-variables" class="slide level2">
<h2>What about categorical variables?</h2>
<p>Suppose we want to include the variable <code>Bldg Type</code> in our distance calculation…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>df[<span class="st">"Bldg Type"</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Bldg Type
1Fam      2425
TwnhsE     233
Duplex     109
Twnhs      101
2fmCon      62
Name: count, dtype: int64</code></pre>
</div>
</div>
<p>What is “single family minus townhouse squared”?</p>
</section>
<section id="converting-to-binary" class="slide level2">
<h2>Converting to binary</h2>
<p>Let’s instead think about “Single family, or not”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a>df[<span class="st">"is_single_fam"</span>] <span class="op">=</span> df[<span class="st">"Bldg Type"</span>] <span class="op">==</span> <span class="st">"1Fam"</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>df[<span class="st">"is_single_fam"</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>is_single_fam
True     2425
False     505
Name: count, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="converting-to-binary-1" class="slide level2">
<h2>Converting to binary</h2>
<p>Recall that <code>True/False</code> is the same as <code>1/0</code> for computers:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>df[<span class="st">"is_single_fam"</span>] <span class="op">=</span> df[<span class="st">"is_single_fam"</span>].astype(<span class="st">"int"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>df[<span class="st">"is_single_fam"</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>is_single_fam
1    2425
0     505
Name: count, dtype: int64</code></pre>
</div>
</div>
<p>We call this a <strong>dummy variable</strong> or a <strong>one-hot-encoding</strong>.</p>
</section>
<section id="now-we-can-do-math" class="slide level2">
<h2>Now we can do math!</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> pairwise_distances</span>
<span id="cb9-3"><a href="#cb9-3"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a>df_orig <span class="op">=</span> df[[<span class="st">'Gr Liv Area'</span>, <span class="st">'Bedroom AbvGr'</span>, <span class="st">'is_single_fam'</span>]]</span>
<span id="cb9-6"><a href="#cb9-6"></a>scaler.fit(df_orig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-1 {color: black;}#sk-container-id-1 pre{padding: 0;}#sk-container-id-1 div.sk-toggleable {background-color: white;}#sk-container-id-1 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-1 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-1 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-1 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-1 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-1 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-1 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-1 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-1 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-1 div.sk-item {position: relative;z-index: 1;}#sk-container-id-1 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-1 div.sk-item::before, #sk-container-id-1 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-1 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-1 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-1 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-1 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-1 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-1 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-1 div.sk-label-container {text-align: center;}#sk-container-id-1 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-1 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>StandardScaler()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked=""><label for="sk-estimator-id-1" class="sk-toggleable__label sk-toggleable__label-arrow">StandardScaler</label><div class="sk-toggleable__content"><pre>StandardScaler()</pre></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>df_scaled <span class="op">=</span> scaler.transform(df_orig)</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>dists <span class="op">=</span> pairwise_distances(df_scaled[[<span class="dv">1707</span>]], df_scaled)</span>
<span id="cb10-4"><a href="#cb10-4"></a>best <span class="op">=</span> dists.argsort().flatten()[<span class="dv">1</span>:<span class="dv">10</span>]</span>
<span id="cb10-5"><a href="#cb10-5"></a>df_orig.iloc[best]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Gr Liv Area  Bedroom AbvGr  is_single_fam
160          2978              5              1
909          3082              5              1
1288         2792              5              1
2350         2784              5              1
253          3222              5              1
585          2640              5              1
2027         2526              5              1
2330         3390              5              1
2501         2520              5              1</code></pre>
</div>
</div>
</section>
<section id="quick-look-back" class="slide level2">
<h2>Quick look back</h2>
<h3 id="where-have-you-seen-some-one-hot-encoded-variables-already">Where have you seen some one-hot-encoded variables already?</h3>
</section>
<section id="lets-reset-the-dataset-now" class="slide level2">
<h2>Let’s reset the dataset now…</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>df <span class="op">=</span> pd.read_table(<span class="st">"https://datasci112.stanford.edu/data/housing.tsv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="dummifying-variables" class="title-slide slide level1 center">
<h1>Dummifying Variables</h1>

</section>
<section id="dummifying-variables-1" class="slide level2">
<h2>Dummifying Variables</h2>
<ul>
<li class="fragment"><p>What if we don’t just want to study <code>is_single_fam</code>, but rather, <em>all</em> categories of the <code>Bldg Type</code> variable?</p></li>
<li class="fragment"><p>In principle, we just make <strong>dummy variables</strong> for <strong>each category</strong>: <code>is_single_fam</code>, <code>is_twnhse</code>, etc.</p></li>
<li class="fragment"><p>Each <strong>category</strong> becomes one <strong>column</strong>, with 0’s and 1’s to show if the <em>observation in that row</em> matches that <em>category</em>.</p></li>
<li class="fragment"><p>This is called <strong>dummifying</strong> or <strong>one-hot-encoding</strong> a <strong>categorical variable</strong></p></li>
<li class="fragment"><p>Luckily, we have shortcuts in both <code>pandas</code> <em>and</em> <code>sklearn</code>…</p></li>
</ul>
</section>
<section id="dummifying-in-pandas" class="slide level2">
<h2>Dummifying in Pandas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>pd.get_dummies(df[[<span class="st">"Bldg Type"</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Bldg Type_1Fam  Bldg Type_2fmCon  ...  Bldg Type_Twnhs  Bldg Type_TwnhsE
0               True             False  ...            False             False
1               True             False  ...            False             False
2               True             False  ...            False             False
3               True             False  ...            False             False
4               True             False  ...            False             False
...              ...               ...  ...              ...               ...
2925            True             False  ...            False             False
2926            True             False  ...            False             False
2927            True             False  ...            False             False
2928            True             False  ...            False             False
2929            True             False  ...            False             False

[2930 rows x 5 columns]</code></pre>
</div>
</div>
</section>
<section id="dummifying-in-pandas-1" class="slide level2">
<h2>Dummifying in Pandas</h2>
<p>Some things to notice here…</p>
<ol type="1">
<li class="fragment"><p>What is the <strong>naming convention</strong> for the new columns?</p></li>
<li class="fragment"><p>Does this change the original dataframe <code>df</code>? If not, what would you need to do to add this information back in?</p></li>
<li class="fragment"><p>What happens if you put the whole dataframe into the <code>get_dummies</code> function? What problems might arise from this?</p></li>
</ol>
</section>
<section id="dummifying-in-sklearn" class="slide level2">
<h2>Dummifying in sklearn</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> OneHotEncoder</span>
<span id="cb15-2"><a href="#cb15-2"></a></span>
<span id="cb15-3"><a href="#cb15-3"></a>encoder <span class="op">=</span> OneHotEncoder()</span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a>encoder.fit(df[[<span class="st">"Bldg Type"</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-2 {color: black;}#sk-container-id-2 pre{padding: 0;}#sk-container-id-2 div.sk-toggleable {background-color: white;}#sk-container-id-2 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-2 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-2 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-2 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-2 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-2 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-2 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-2 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-2 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-2 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-2 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-2 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-2 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-2 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-2 div.sk-item {position: relative;z-index: 1;}#sk-container-id-2 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-2 div.sk-item::before, #sk-container-id-2 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-2 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-2 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-2 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-2 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-2 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-2 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-2 div.sk-label-container {text-align: center;}#sk-container-id-2 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-2 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-2" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>OneHotEncoder()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-2" type="checkbox" checked=""><label for="sk-estimator-id-2" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder()</pre></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a>df_bldg <span class="op">=</span> encoder.transform(df[[<span class="st">"Bldg Type"</span>]])</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a>df_bldg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;2930x5 sparse matrix of type '&lt;class 'numpy.float64'&gt;'
    with 2930 stored elements in Compressed Sparse Row format&gt;</code></pre>
</div>
</div>
</section>
<section id="dummifying-in-sklearn-1" class="slide level2">
<h2>Dummifying in sklearn</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>df_bldg.todense()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>matrix([[1., 0., 0., 0., 0.],
        [1., 0., 0., 0., 0.],
        [1., 0., 0., 0., 0.],
        ...,
        [1., 0., 0., 0., 0.],
        [1., 0., 0., 0., 0.],
        [1., 0., 0., 0., 0.]])</code></pre>
</div>
</div>
</section>
<section id="dummifying-in-sklearn-2" class="slide level2">
<h2>Dummifying in sklearn</h2>
<p>Things to notice:</p>
<ol type="1">
<li class="fragment"><p>What <strong>object type</strong> was the result?</p></li>
<li class="fragment"><p>Does this change the original dataframe <code>df</code>? If not, what would you need to do to add this information back in?</p></li>
<li class="fragment"><p>What happens if you fit the whole dataframe with the OneHotEncoder? What problems might arise from this?</p></li>
<li class="fragment"><p>What pros and cons do you see for the <code>pandas</code> approach vs the <code>sklearn</code> approach?</p></li>
</ol>
</section></section>
<section>
<section id="column-transformers" class="title-slide slide level1 center">
<h1>Column Transformers</h1>

</section>
<section id="preprocessing" class="slide level2">
<h2>Preprocessing</h2>
<ul>
<li class="fragment"><p>We have now seen two <strong>preprocessing</strong> steps that might need to happen to do an analysis of distances:</p>
<ul>
<li class="fragment"><strong>Scaling</strong> the quantitative variables</li>
<li class="fragment"><strong>Dummifying</strong> the categorical variables</li>
</ul></li>
<li class="fragment"><p><strong>Preprocessing</strong> steps are things you do <em>only to make the following analysis/visualization better</em>.</p></li>
<li class="fragment"><p>This is not the same as <strong>data cleaning</strong>, which are changes you make to <em>fix</em> the data.</p></li>
<li class="fragment"><p>This is not the same as <strong>data wrangling</strong>, which are changes you make to <em>restructure</em> the data; i.e., adding or deleting rows or columns to reflect what you are trying to study.</p></li>
</ul>
</section>
<section id="quick-quiz" class="slide level2">
<h2>Quick quiz</h2>
<p>Identify the following as <em>cleaning</em>, <em>wrangling</em>, or <em>preprocessing</em>:</p>
<ol type="1">
<li class="fragment"><p>Removing the <code>$</code> symbol from a column and converting it to numeric.</p></li>
<li class="fragment"><p>Narrowing your data down to only first class Titanic passengers, because you are not studying the others.</p></li>
<li class="fragment"><p>Converting a <code>Zip Code</code> variable from numeric to categorical using <code>.astype()</code>.</p></li>
<li class="fragment"><p>Creating a new column called <code>n_investment</code> that counts the number of people who invested in a project.</p></li>
<li class="fragment"><p>Log-transforming a column because it is very skewed.</p></li>
</ol>
</section>
<section id="preprocessing-in-sklearn" class="slide level2">
<h2>Preprocessing in <code>sklearn</code></h2>
<ul>
<li class="fragment"><p>Unlike <strong>cleaning</strong> and <strong>wrangling</strong>, the <strong>preprocessing</strong> steps are “temporary” changes to the dataframe.</p></li>
<li class="fragment"><p>It would be nice if we could trigger these changes as part of our analysis, instead of doing them “by hand”.</p></li>
<li class="fragment"><p>This is why the <strong>specify</strong> - <strong>fit</strong> - <strong>transform</strong> process is useful!</p></li>
<li class="fragment"><p>We will first specify <strong>all</strong> our preprocessing steps.</p></li>
<li class="fragment"><p>Then we will <strong>fit</strong> the whole preprocess</p></li>
<li class="fragment"><p>Then we will save the <strong>transform</strong> step for only when we need it.</p></li>
</ul>
</section>
<section id="column-transformers-1" class="slide level2">
<h2>Column Transformers</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a><span class="im">from</span> sklearn.compose <span class="im">import</span> make_column_transformer</span>
<span id="cb20-2"><a href="#cb20-2"></a></span>
<span id="cb20-3"><a href="#cb20-3"></a>preproc <span class="op">=</span> make_column_transformer(</span>
<span id="cb20-4"><a href="#cb20-4"></a>    (OneHotEncoder(), [<span class="st">"Bldg Type"</span>, <span class="st">"Neighborhood"</span>]),</span>
<span id="cb20-5"><a href="#cb20-5"></a>    remainder<span class="op">=</span><span class="st">"passthrough"</span>)</span>
<span id="cb20-6"><a href="#cb20-6"></a>    </span>
<span id="cb20-7"><a href="#cb20-7"></a>preproc.fit(df[features])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-3 {color: black;}#sk-container-id-3 pre{padding: 0;}#sk-container-id-3 div.sk-toggleable {background-color: white;}#sk-container-id-3 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-3 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-3 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-3 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-3 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-3 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-3 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-3 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-3 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-3 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-3 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-3 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-3 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-3 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-3 div.sk-item {position: relative;z-index: 1;}#sk-container-id-3 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-3 div.sk-item::before, #sk-container-id-3 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-3 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-3 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-3 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-3 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-3 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-3 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-3 div.sk-label-container {text-align: center;}#sk-container-id-3 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-3 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-3" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('onehotencoder', OneHotEncoder(),
                                 ['Bldg Type', 'Neighborhood'])])</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-3" type="checkbox"><label for="sk-estimator-id-3" class="sk-toggleable__label sk-toggleable__label-arrow">ColumnTransformer</label><div class="sk-toggleable__content"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('onehotencoder', OneHotEncoder(),
                                 ['Bldg Type', 'Neighborhood'])])</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-4" type="checkbox"><label for="sk-estimator-id-4" class="sk-toggleable__label sk-toggleable__label-arrow">onehotencoder</label><div class="sk-toggleable__content"><pre>['Bldg Type', 'Neighborhood']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-5" type="checkbox"><label for="sk-estimator-id-5" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder()</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-6" type="checkbox"><label for="sk-estimator-id-6" class="sk-toggleable__label sk-toggleable__label-arrow">remainder</label><div class="sk-toggleable__content"><pre>['Gr Liv Area', 'Bedroom AbvGr', 'Full Bath', 'Half Bath']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-7" type="checkbox"><label for="sk-estimator-id-7" class="sk-toggleable__label sk-toggleable__label-arrow">passthrough</label><div class="sk-toggleable__content"><pre>passthrough</pre></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a>preproc.transform(df[features])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;2930x37 sparse matrix of type '&lt;class 'numpy.float64'&gt;'
    with 15717 stored elements in Compressed Sparse Row format&gt;</code></pre>
</div>
</div>
</section>
<section id="column-transformers-2" class="slide level2">
<h2>Column Transformers</h2>
<p>Things to notice…</p>
<ol type="1">
<li class="fragment"><p>What submodule did we import <code>make_column_transformer</code> from?</p></li>
<li class="fragment"><p>What are the <strong>two</strong> arguments to the <code>make_column_transformer</code> function? What <strong>object structures</strong> are they?</p></li>
<li class="fragment"><p>What happens if you <strong>fit</strong> and <strong>transform</strong> on the whole dataset, not just <code>df[features]</code>? Why might this be useful?</p></li>
</ol>
</section>
<section id="column-transformers-3" class="slide level2">
<h2>Column Transformers</h2>
<p>Try the following:</p>
<ol type="1">
<li class="fragment"><p>What happens if you change <code>remainder = "passthrough"</code> to <code>remainder = "drop"</code>?</p></li>
<li class="fragment"><p>What happens if you add the argument <code>sparse_output=False</code> to the <code>OneHotEncoder()</code> function?</p></li>
<li class="fragment"><p>What happens if you add this line before the <em>transform</em> step: <em>(keep the <code>sparse_output=False</code> when you try this)</em></p></li>
</ol>
<pre><code>preproc.set_output(transform = "pandas")</code></pre>
<ol start="4" type="1">
<li class="fragment">Look at the <code>preproc</code> object. What does it show you?</li>
</ol>
</section>
<section id="multiple-preprocessing-steps" class="slide level2">
<h2>Multiple preprocessing steps</h2>
<p>Why are <strong>column transformers</strong> so useful?</p>
<p>Well, now we can do <strong>multiple preprocessing steps</strong> at once!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a>preproc <span class="op">=</span> make_column_transformer(</span>
<span id="cb24-4"><a href="#cb24-4"></a>        (StandardScaler(), [<span class="st">"Gr Liv Area"</span>]),</span>
<span id="cb24-5"><a href="#cb24-5"></a>        (OneHotEncoder(sparse_output<span class="op">=</span><span class="va">False</span>), [<span class="st">"Bldg Type"</span>,</span>
<span id="cb24-6"><a href="#cb24-6"></a>                                          <span class="st">"Neighborhood"</span>]),</span>
<span id="cb24-7"><a href="#cb24-7"></a>    remainder<span class="op">=</span><span class="st">"passthrough"</span>)</span>
<span id="cb24-8"><a href="#cb24-8"></a>    </span>
<span id="cb24-9"><a href="#cb24-9"></a>preproc.fit(df[features])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-4 {color: black;}#sk-container-id-4 pre{padding: 0;}#sk-container-id-4 div.sk-toggleable {background-color: white;}#sk-container-id-4 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-4 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-4 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-4 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-4 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-4 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-4 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-4 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-4 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-4 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-4 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-4 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-4 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-4 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-4 div.sk-item {position: relative;z-index: 1;}#sk-container-id-4 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-4 div.sk-item::before, #sk-container-id-4 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-4 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-4 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-4 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-4 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-4 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-4 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-4 div.sk-label-container {text-align: center;}#sk-container-id-4 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-4 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-4" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 ['Gr Liv Area']),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 ['Bldg Type', 'Neighborhood'])])</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-8" type="checkbox"><label for="sk-estimator-id-8" class="sk-toggleable__label sk-toggleable__label-arrow">ColumnTransformer</label><div class="sk-toggleable__content"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 ['Gr Liv Area']),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 ['Bldg Type', 'Neighborhood'])])</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-9" type="checkbox"><label for="sk-estimator-id-9" class="sk-toggleable__label sk-toggleable__label-arrow">standardscaler</label><div class="sk-toggleable__content"><pre>['Gr Liv Area']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-10" type="checkbox"><label for="sk-estimator-id-10" class="sk-toggleable__label sk-toggleable__label-arrow">StandardScaler</label><div class="sk-toggleable__content"><pre>StandardScaler()</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-11" type="checkbox"><label for="sk-estimator-id-11" class="sk-toggleable__label sk-toggleable__label-arrow">onehotencoder</label><div class="sk-toggleable__content"><pre>['Bldg Type', 'Neighborhood']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-12" type="checkbox"><label for="sk-estimator-id-12" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder(sparse_output=False)</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-13" type="checkbox"><label for="sk-estimator-id-13" class="sk-toggleable__label sk-toggleable__label-arrow">remainder</label><div class="sk-toggleable__content"><pre>['Bedroom AbvGr', 'Full Bath', 'Half Bath']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-14" type="checkbox"><label for="sk-estimator-id-14" class="sk-toggleable__label sk-toggleable__label-arrow">passthrough</label><div class="sk-toggleable__content"><pre>passthrough</pre></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a>preproc.set_output(transform <span class="op">=</span> <span class="st">"pandas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-5 {color: black;}#sk-container-id-5 pre{padding: 0;}#sk-container-id-5 div.sk-toggleable {background-color: white;}#sk-container-id-5 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-5 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-5 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-5 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-5 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-5 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-5 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-5 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-5 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-5 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-5 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-5 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-5 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-5 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-5 div.sk-item {position: relative;z-index: 1;}#sk-container-id-5 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-5 div.sk-item::before, #sk-container-id-5 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-5 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-5 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-5 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-5 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-5 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-5 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-5 div.sk-label-container {text-align: center;}#sk-container-id-5 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-5 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-5" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 ['Gr Liv Area']),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 ['Bldg Type', 'Neighborhood'])])</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-15" type="checkbox"><label for="sk-estimator-id-15" class="sk-toggleable__label sk-toggleable__label-arrow">ColumnTransformer</label><div class="sk-toggleable__content"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 ['Gr Liv Area']),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 ['Bldg Type', 'Neighborhood'])])</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-16" type="checkbox"><label for="sk-estimator-id-16" class="sk-toggleable__label sk-toggleable__label-arrow">standardscaler</label><div class="sk-toggleable__content"><pre>['Gr Liv Area']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-17" type="checkbox"><label for="sk-estimator-id-17" class="sk-toggleable__label sk-toggleable__label-arrow">StandardScaler</label><div class="sk-toggleable__content"><pre>StandardScaler()</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-18" type="checkbox"><label for="sk-estimator-id-18" class="sk-toggleable__label sk-toggleable__label-arrow">onehotencoder</label><div class="sk-toggleable__content"><pre>['Bldg Type', 'Neighborhood']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-19" type="checkbox"><label for="sk-estimator-id-19" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder(sparse_output=False)</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-20" type="checkbox"><label for="sk-estimator-id-20" class="sk-toggleable__label sk-toggleable__label-arrow">remainder</label><div class="sk-toggleable__content"><pre>['Bedroom AbvGr', 'Full Bath', 'Half Bath']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-21" type="checkbox"><label for="sk-estimator-id-21" class="sk-toggleable__label sk-toggleable__label-arrow">passthrough</label><div class="sk-toggleable__content"><pre>passthrough</pre></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>df_transformed <span class="op">=</span> preproc.transform(df[features])</span>
<span id="cb26-2"><a href="#cb26-2"></a>df_transformed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      standardscaler__Gr Liv Area  ...  remainder__Half Bath
0                        0.309265  ...                     0
1                       -1.194427  ...                     0
2                       -0.337718  ...                     1
3                        1.207523  ...                     1
4                        0.255844  ...                     1
...                           ...  ...                   ...
2925                    -0.982723  ...                     0
2926                    -1.182556  ...                     0
2927                    -1.048015  ...                     0
2928                    -0.219006  ...                     0
2929                     0.989884  ...                     1

[2930 rows x 37 columns]</code></pre>
</div>
</div>
</section>
<section id="finding-all-variables" class="slide level2">
<h2>Finding all variables</h2>
<p>What if we just want to say “Please dummify <strong>all</strong> categorical variables?”</p>
<p>Use a <code>selector</code> instead of exact column names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="im">from</span> sklearn.compose <span class="im">import</span> make_column_selector</span>
<span id="cb28-2"><a href="#cb28-2"></a></span>
<span id="cb28-3"><a href="#cb28-3"></a>preproc <span class="op">=</span> make_column_transformer(</span>
<span id="cb28-4"><a href="#cb28-4"></a>    (StandardScaler(),  make_column_selector(dtype_include<span class="op">=</span>np.number)),</span>
<span id="cb28-5"><a href="#cb28-5"></a>    (OneHotEncoder(sparse_output<span class="op">=</span><span class="va">False</span>), make_column_selector(dtype_include<span class="op">=</span><span class="bu">object</span>)),</span>
<span id="cb28-6"><a href="#cb28-6"></a>    remainder<span class="op">=</span><span class="st">"passthrough"</span>)</span>
<span id="cb28-7"><a href="#cb28-7"></a>    </span>
<span id="cb28-8"><a href="#cb28-8"></a>preproc.fit(df[features])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-6 {color: black;}#sk-container-id-6 pre{padding: 0;}#sk-container-id-6 div.sk-toggleable {background-color: white;}#sk-container-id-6 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-6 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-6 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-6 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-6 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-6 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-6 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-6 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-6 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-6 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-6 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-6 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-6 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-6 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-6 div.sk-item {position: relative;z-index: 1;}#sk-container-id-6 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-6 div.sk-item::before, #sk-container-id-6 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-6 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-6 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-6 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-6 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-6 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-6 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-6 div.sk-label-container {text-align: center;}#sk-container-id-6 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-6 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-6" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x14e229670&gt;),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x16dcdac00&gt;)])</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-22" type="checkbox"><label for="sk-estimator-id-22" class="sk-toggleable__label sk-toggleable__label-arrow">ColumnTransformer</label><div class="sk-toggleable__content"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x14e229670&gt;),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x16dcdac00&gt;)])</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-23" type="checkbox"><label for="sk-estimator-id-23" class="sk-toggleable__label sk-toggleable__label-arrow">standardscaler</label><div class="sk-toggleable__content"><pre>&lt;sklearn.compose._column_transformer.make_column_selector object at 0x14e229670&gt;</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-24" type="checkbox"><label for="sk-estimator-id-24" class="sk-toggleable__label sk-toggleable__label-arrow">StandardScaler</label><div class="sk-toggleable__content"><pre>StandardScaler()</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-25" type="checkbox"><label for="sk-estimator-id-25" class="sk-toggleable__label sk-toggleable__label-arrow">onehotencoder</label><div class="sk-toggleable__content"><pre>&lt;sklearn.compose._column_transformer.make_column_selector object at 0x16dcdac00&gt;</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-26" type="checkbox"><label for="sk-estimator-id-26" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder(sparse_output=False)</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-27" type="checkbox"><label for="sk-estimator-id-27" class="sk-toggleable__label sk-toggleable__label-arrow">remainder</label><div class="sk-toggleable__content"><pre>[]</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-28" type="checkbox"><label for="sk-estimator-id-28" class="sk-toggleable__label sk-toggleable__label-arrow">passthrough</label><div class="sk-toggleable__content"><pre>passthrough</pre></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a>preproc.set_output(transform <span class="op">=</span> <span class="st">"pandas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-7 {color: black;}#sk-container-id-7 pre{padding: 0;}#sk-container-id-7 div.sk-toggleable {background-color: white;}#sk-container-id-7 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-7 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-7 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-7 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-7 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-7 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-7 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-7 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-7 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-7 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-7 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-7 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-7 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-7 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-7 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-7 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-7 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-7 div.sk-item {position: relative;z-index: 1;}#sk-container-id-7 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-7 div.sk-item::before, #sk-container-id-7 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-7 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-7 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-7 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-7 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-7 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-7 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-7 div.sk-label-container {text-align: center;}#sk-container-id-7 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-7 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-7" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x14e229670&gt;),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x16dcdac00&gt;)])</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-29" type="checkbox"><label for="sk-estimator-id-29" class="sk-toggleable__label sk-toggleable__label-arrow">ColumnTransformer</label><div class="sk-toggleable__content"><pre>ColumnTransformer(remainder='passthrough',
                  transformers=[('standardscaler', StandardScaler(),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x14e229670&gt;),
                                ('onehotencoder',
                                 OneHotEncoder(sparse_output=False),
                                 &lt;sklearn.compose._column_transformer.make_column_selector object at 0x16dcdac00&gt;)])</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-30" type="checkbox"><label for="sk-estimator-id-30" class="sk-toggleable__label sk-toggleable__label-arrow">standardscaler</label><div class="sk-toggleable__content"><pre>&lt;sklearn.compose._column_transformer.make_column_selector object at 0x14e229670&gt;</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-31" type="checkbox"><label for="sk-estimator-id-31" class="sk-toggleable__label sk-toggleable__label-arrow">StandardScaler</label><div class="sk-toggleable__content"><pre>StandardScaler()</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-32" type="checkbox"><label for="sk-estimator-id-32" class="sk-toggleable__label sk-toggleable__label-arrow">onehotencoder</label><div class="sk-toggleable__content"><pre>&lt;sklearn.compose._column_transformer.make_column_selector object at 0x16dcdac00&gt;</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-33" type="checkbox"><label for="sk-estimator-id-33" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder(sparse_output=False)</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-34" type="checkbox"><label for="sk-estimator-id-34" class="sk-toggleable__label sk-toggleable__label-arrow">remainder</label><div class="sk-toggleable__content"><pre>[]</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-35" type="checkbox"><label for="sk-estimator-id-35" class="sk-toggleable__label sk-toggleable__label-arrow">passthrough</label><div class="sk-toggleable__content"><pre>passthrough</pre></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>df_transformed <span class="op">=</span> preproc.transform(df[features])</span>
<span id="cb30-2"><a href="#cb30-2"></a>df_transformed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      standardscaler__Gr Liv Area  ...  onehotencoder__Neighborhood_Veenker
0                        0.309265  ...                                  0.0
1                       -1.194427  ...                                  0.0
2                       -0.337718  ...                                  0.0
3                        1.207523  ...                                  0.0
4                        0.255844  ...                                  0.0
...                           ...  ...                                  ...
2925                    -0.982723  ...                                  0.0
2926                    -1.182556  ...                                  0.0
2927                    -1.048015  ...                                  0.0
2928                    -0.219006  ...                                  0.0
2929                     0.989884  ...                                  0.0

[2930 rows x 37 columns]</code></pre>
</div>
</div>
</section>
<section id="think-about-it" class="slide level2">
<h2>Think about it</h2>
<ul>
<li class="fragment"><p>What are the <em>advantages</em> of using a selector?</p></li>
<li class="fragment"><p>What are the possible <em>disadvantages</em> of using a selector?</p></li>
<li class="fragment"><p>Does the <em>order</em> matter when using selectors? Try switching the steps and see what happens!</p></li>
</ul>
</section></section>
<section>
<section id="bag-of-words" class="title-slide slide level1 center">
<h1>Bag of Words</h1>

</section>
<section id="text-data" class="slide level2">
<h2>Text data</h2>
<p>A textual data set consists of multiple texts. Each text is called a <strong>document</strong>. The collection of texts is called a <strong>corpus</strong>.</p>
<p>Example Corpus:</p>
<ol start="0" type="1">
<li class="fragment"><p><code>"I am Sam\n\nI am Sam\nSam I..."</code></p></li>
<li class="fragment"><p><code>"The sun did not shine.\nIt was..."</code></p></li>
<li class="fragment"><p><code>"Fox\nSocks\nBox\nKnox\n\nKnox..."</code></p></li>
<li class="fragment"><p><code>"Every Who\nDown in Whoville\n..."</code></p></li>
<li class="fragment"><p><code>"UP PUP Pup is up.\nCUP PUP..."</code></p></li>
<li class="fragment"><p><code>"On the fifteenth of May, in the..."</code></p></li>
<li class="fragment"><p><code>"Congratulations!\nToday is your..."</code></p></li>
<li class="fragment"><p><code>"One fish, two fish, red fish..."</code></p></li>
</ol>
</section>
<section id="reading-text-data" class="slide level2">
<h2>Reading Text Data</h2>
<p>Reading in Textual Data</p>
<p>Documents are usually stored in different files.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>seuss_dir <span class="op">=</span> <span class="st">"http://dlsun.github.io/pods/data/drseuss/"</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>seuss_files <span class="op">=</span> [</span>
<span id="cb32-3"><a href="#cb32-3"></a>    <span class="st">"green_eggs_and_ham.txt"</span>, <span class="st">"cat_in_the_hat.txt"</span>,</span>
<span id="cb32-4"><a href="#cb32-4"></a>    <span class="st">"fox_in_socks.txt"</span>, <span class="st">"how_the_grinch_stole_christmas.txt"</span>,</span>
<span id="cb32-5"><a href="#cb32-5"></a>    <span class="st">"hop_on_pop.txt"</span>, <span class="st">"horton_hears_a_who.txt"</span>,</span>
<span id="cb32-6"><a href="#cb32-6"></a>    <span class="st">"oh_the_places_youll_go.txt"</span>, <span class="st">"one_fish_two_fish.txt"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We have to read them in one by one.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a><span class="im">import</span> requests</span>
<span id="cb33-2"><a href="#cb33-2"></a></span>
<span id="cb33-3"><a href="#cb33-3"></a>docs <span class="op">=</span> {}</span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="cf">for</span> filename <span class="kw">in</span> seuss_files:</span>
<span id="cb33-5"><a href="#cb33-5"></a>    response <span class="op">=</span> requests.get(seuss_dir <span class="op">+</span> filename, <span class="st">"r"</span>)</span>
<span id="cb33-6"><a href="#cb33-6"></a>    docs[filename] <span class="op">=</span> response.text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="reading-text-data-1" class="slide level2">
<h2>Reading Text Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a>docs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'green_eggs_and_ham.txt': 'I am Sam\n\nI am Sam\nSam I am\n\nThat Sam-I-am\nThat Sam-I-am!\nI do not like\nthat Sam-I-am\n\nDo you like\ngreen eggs and ham\n\nI do not like them,\nSam-I-am.\nI do not like\ngreen eggs and ham.\n\nWould you like them\nHere or there?\n\nI would not like them\nhere or there.\nI would not like them\nanywhere.\nI do not like\ngreen eggs and ham.\nI do not like them,\nSam-I-am\n\nWould you like them\nin a house?\nWould you like them\nwith a mouse?\n\nI do not like them\nin a house.\nI do not like them\nwith a mouse.\nI do not like them\nhere or there.\nI do not like them\nanywhere.\nI do not like green eggs and ham.\nI do not like them, Sam-I-am.\n\n\nWould you eat them\nin a box?\nWould you eat them\nwith a fox?\n\nNot in a box.\nNot with a fox.\nNot in a house.\nNot with a mouse.\nI would not eat them here or there.\nI would not eat them anywhere.\nI would not eat green eggs and ham.\nI do not like them, Sam-I-am.\n\nWould you? Could you?\nin a car?\nEat them! Eat them!\nHere they are.\n\nI would not,\ncould not,\nin a car.\n\nYou may like them.\nYou will see.\nYou may like them\nin a tree?\n\nI would not, could not in a tree.\nNot in a car! You let me be.\n\nI do not like them in a box.\nI do not like them with a fox\nI do not like them in a house\nI do mot like them with a mouse\nI do not like them here or there.\nI do not like them anywhere.\nI do not like green eggs and ham.\nI do not like them, Sam-I-am.\n\nA train! A train!\nA train! A train!\nCould you, would you\non a train?\n\nNot on a train! Not in a tree!\nNot in a car! Sam! Let me be!\nI would not, could not, in a box.\nI could not, would not, with a fox.\nI will not eat them with a mouse\nI will not eat them in a house.\nI will not eat them here or there.\nI will not eat them anywhere.\nI do not like them, Sam-I-am.\n\n\nSay!\nIn the dark?\nHere in the dark!\nWould you, could you, in the dark?\n\nI would not, could not,\nin the dark.\n\nWould you, could you,\nin the rain?\n\nI would not, could not, in the rain.\nNot in the dark. Not on a train,\nNot in a car, Not in a tree.\nI do not like them, Sam, you see.\nNot in a house. Not in a box.\nNot with a mouse. Not with a fox.\nI will not eat them here or there.\nI do not like them anywhere!\n\nYou do not like\ngreen eggs and ham?\n\nI do not\nlike them,\nSam-I-am.\n\nCould you, would you,\nwith a goat?\n\nI would not,\ncould not.\nwith a goat!\n\nWould you, could you,\non a boat?\n\nI could not, would not, on a boat.\nI will not, will not, with a goat.\nI will not eat them in the rain.\nI will not eat them on a train.\nNot in the dark! Not in a tree!\nNot in a car! You let me be!\nI do not like them in a box.\nI do not like them with a fox.\nI will not eat them in a house.\nI do not like them with a mouse.\nI do not like them here or there.\nI do not like them ANYWHERE!\n\nI do not like\ngreen eggs\nand ham!\n\nI do not like them,\nSam-I-am.\n\nYou do not like them.\nSO you say.\nTry them! Try them!\nAnd you may.\nTry them and you may I say.\n\nSam!\nIf you will let me be,\nI will try them.\nYou will see.\n\nSay!\nI like green eggs and ham!\nI do! I like them, Sam-I-am!\nAnd I would eat them in a boat!\nAnd I would eat them with a goat...\nAnd I will eat them in the rain.\nAnd in the dark. And on a train.\nAnd in a car. And in a tree.\nThey are so good so good you see!\n\nSo I will eat them in a box.\nAnd I will eat them with a fox.\nAnd I will eat them in a house.\nAnd I will eat them with a mouse.\nAnd I will eat them here and there.\nSay! I will eat them ANYWHERE!\n\nI do so like\ngreen eggs and ham!\nThank you!\nThank you,\nSam-I-am\n', 'cat_in_the_hat.txt': 'The sun did not shine.\nIt was too wet to play.\nSo we sat in the house\nAll that cold, cold, wet day.\n\nI sat there with Sally.\nWe sat there, we two.\nAnd I said, "How I wish\nWe had something to do!"\n\nToo wet to go out\nAnd too cold to play ball.\nSo we sat in the house.\nWe did nothing at all.\n\nSo all we could do was to\n\nSit!\nSit!\nSit!\nSit!\n\nAnd we did not like it.\nNot one little bit.\n\nBUMP!\n\nAnd then\nsomething went BUMP!\nHow that bump made us jump!\n\nWe looked!\nThen we saw him step in on the mat!\nWe looked!\nAnd we saw him!\nThe Cat in the Hat!\nAnd he said to us,\n"Why do you sit there like that?"\n"I know it is wet\nAnd the sun is not sunny.\nBut we can have\nLots of good fun that is funny!"\n\n"I know some good games we could play,"\nSaid the cat.\n"I know some new tricks,"\nSaid the Cat in the Hat.\n"A lot of good tricks.\nI will show them to you.\nYour mother\nWill not mind at all if I do."\n\nThen Sally and I\nDid not know what to say.\nOur mother was out of the house\nFor the day.\n\nBut our fish said, "No! No!\nMake that cat go away!\nTell that Cat in the Hat\nYou do NOT want to play.\nHe should not be here.\nHe should not be about.\nHe should not be here\nWhen your mother is out!"\n\n"Now! Now! Have no fear.\nHave no fear!" said the cat.\n"My tricks are not bad,"\nSaid the Cat in the Hat.\n"Why, we can have\nLots of good fun, if you wish,\nwith a game that I call\nUP-UP-UP with a fish!"\n\n"Put me down!" said the fish.\n"This is no fun at all!\nPut me down!" said the fish.\n"I do NOT wish to fall!"\n\n"Have no fear!" said the cat.\n"I will not let you fall.\nI will hold you up high\nAs I stand on a ball.\nWith a book on one hand!\nAnd a cup on my hat!\nBut that is not ALL I can do!"\nSaid the cat...\n\n"Look at me!\nLook at me now!" said the cat.\n"With a cup and a cake\nOn the top of my hat!\nI can hold up TWO books!\nI can hold up the fish!\nAnd a litte toy ship!\nAnd some milk on a dish!\nAnd look!\nI can hop up and down on the ball!\nBut that is not all!\nOh, no.\nThat is not all...\n\n"Look at me!\nLook at me!\nLook at me NOW!\nIt is fun to have fun\nBut you have to know how.\nI can hold up the cup\nAnd the milk and the cake!\nI can hold up these books!\nAnd the fish on a rake!\nI can hold the toy ship\nAnd a little toy man!\nAnd look! With my tail\nI can hold a red fan!\nI can fan with the fan\nAs I hop on the ball!\nBut that is not all.\nOh, no.\nThat is not all...."\n\nThat is what the cat said...\nThen he fell on his head!\nHe came down with a bump\nFrom up there on the ball.\nAnd Sally and I,\nWe saw ALL the things fall!\n\nAnd our fish came down, too.\nHe fell into a pot!\nHe said, "Do I like this?"\nOh, no! I do not.\nThis is not a good game,"\nSaid our fish as he lit.\n"No, I do not like it,\nNot one little bit!"\n\n"Now look what you did!"\nSaid the fish to the cat.\n"Now look at this house!\nLook at this! Look at that!\nYou sank our toy ship,\nSank it deep in the cake.\nYou shook up our house\nAnd you bent our new rake.\nYou SHOULD NOT be here\nWhen our mother is not.\nYou get out of this house!"\nSaid the fish in the pot.\n\n"But I like to be here.\nOh, I like it a lot!"\nSaid the Cat in the Hat\nTo the fish in the pot.\n"I will NOT go away.\nI do NOT wish to go!\nAnd so," said the Cat in the Hat,\n\n"So\nso\nso...\n\nI will show you\nAnother good game that I know!"\nAnd then he ran out.\nAnd, then, fast as a fox,\nThe Cat in the Hat\nCame back in with a box.\nA big red wood box.\nIt was shut with a hook.\n"Now look at this trick,"\nSaid the cat.\n"Take a look!"\n\nThen he got up on top\nWith a tip of his hat.\n"I call this game FUN-IN-A-BOX,"\nSaid the cat.\n"In this box are two things\nI will show to you now.\nYou will like these two things,"\nSaid the cat with a bow.\n\n"I will pick up the hook.\nYou will see something new.\nTwo things. And I call them\nThing One and Thing Two.\nThese Things will not bite you.\nThey want to have fun."\nThen, out of the box\nCame Thing Two and Thing One!\nAnd they ran to us fast.\nThey said, "How do you do?\nWould you like to shake hands\nWith Thing One and Thing Two?"\n\nAnd Sally and I\nDid not know what to do.\nSo we had to shake hands\nWith Thing One and Thing Two.\nWe shook their two hands.\nBut our fish said, "No! No!\nThose Things should not be\nIn this house! Make them go!\n"They should not be here\nWhen your mother is not!\nPut them out! Put them out!"\nSaid the fish in the pot.\n\n"Have no fear, little fish,"\nSaid the Cat in the Hat.\n"These Things are good Things."\nAnd he gave them a pat.\n"They are tame. Oh, so tame!\nThey have come here to play.\nThey will give you some fun\nOn this wet, wet, wet day."\n\n"Now, here is a game that they like,"\nSaid the cat.\n"They like to fly kites,"\nSaid the Cat in the Hat\n\n"No! Not in the house!"\nSaid the fish in the pot.\n"They should not fly kites\nIn a house! They should not.\nOh, the things they will bump!\nOh, the things they will hit!\nOh, I do not like it!\nNot one little bit!" Then Sally and I\nSaw them run down the hall.\nWe saw those two Things\nBump their kites on the wall!\nBump! Thump! Thump! Bump!\nDown the wall in the hall.\n\nThing Two and Thing One!\nThey ran up! They ran down!\nOn the string of one kite\nWe saw Mother\'s new gown!\nHer gown with the dots\nThat are pink, white and red.\nThen we saw one kite bump\nOn the head of her bed!\n\nThen those Things ran about\nWith big bumps, jumps and kicks\nAnd with hops and big thumps\nAnd all kinds of bad tricks.\nAnd I said,\n"I do NOT like the way that they play\nIf Mother could see this,\nOh, what would she say!"\n\nThen our fish said, "Look! Look!"\nAnd our fish shook with fear.\n"Your mother is on her way home!\nDo you hear?\nOh, what will she do to us?\nWhat will she say?\nOh, she will not like it\nTo find us this way!"\n\n"So, DO something! Fast!" said the fish.\n"Do you hear!\nI saw her. Your mother!\nYour mother is near!\nSo, as fast as you can,\nThink of something to do!\nYou will have to get rid of\nThing One and Thing Two!"\n\nSo, as fast as I could,\nI went after my net.\nAnd I said, "With my net\nI can get them I bet.\nI bet, with my net,\nI can get those Things yet!"\n\nThen I let down my net.\nIt came down with a PLOP!\nAnd I had them! At last!\nThoe two Things had to stop.\nThen I said to the cat,\n"Now you do as I say.\nYou pack up those Things\nAnd you take them away!"\n\n"Oh dear!" said the cat,\n"You did not like our game...\nOh dear.\n\nWhat a shame!\nWhat a shame!\nWhat a shame!"\n\nThen he shut up the Things\nIn the box with the hook.\nAnd the cat went away\nWith a sad kind of look.\n\n"That is good," said the fish.\n"He has gone away. Yes.\nBut your mother will come.\nShe will find this big mess!\nAnd this mess is so big\nAnd so deep and so tall,\nWe ca not pick it up.\nThere is no way at all!"\n\nAnd THEN!\nWho was back in the house?\nWhy, the cat!\n"Have no fear of this mess,"\nSaid the Cat in the Hat.\n"I always pick up all my playthings\nAnd so...\nI will show you another\nGood trick that I know!"\n\nThen we saw him pick up\nAll the things that were down.\nHe picked up the cake,\nAnd the rake, and the gown,\nAnd the milk, and the strings,\nAnd the books, and the dish,\nAnd the fan, and the cup,\nAnd the ship, and the fish.\nAnd he put them away.\nThen he said, "That is that."\nAnd then he was gone\nWith a tip of his hat.\n\nThen our mother came in\nAnd she said to us two,\n"Did you have any fun?\nTell me. What did you do?"\n\nAnd Sally and I did not know\nWhat to say.\nShould we tell her\nThe things that went on there that day?\n\nShould we tell her about it?\nNow, what SHOULD we do?\nWell...\nWhat would YOU do\nIf your mother asked YOU?\n', 'fox_in_socks.txt': "Fox\nSocks\nBox\nKnox\n\nKnox in box.\nFox in socks.\n\nKnox on fox in socks in box.\n\nSocks on Knox and Knox in box.\n\nFox in socks on box on Knox.\n\nChicks with bricks come.\nChicks with blocks come.\nChicks with bricks and blocks and clocks come.\n\nLook, sir.  Look, sir.  Mr. Knox, sir.\nLet's do tricks with bricks and blocks, sir.\nLet's do tricks with chicks and clocks, sir.\n\nFirst, I'll make a quick trick brick stack.\nThen I'll make a quick trick block stack.\n\nYou can make a quick trick chick stack.\nYou can make a quick trick clock stack.\n\nAnd here's a new trick, Mr. Knox....\nSocks on chicks and chicks on fox.\nFox on clocks on bricks and blocks.\nBricks and blocks on Knox on box.\n\nNow we come to ticks and tocks, sir.\nTry to say this Mr. Knox, sir....\n\nClocks on fox tick.\nClocks on Knox tock.\nSix sick bricks tick.\nSix sick chicks tock.\n\nPlease, sir.  I don't like this trick, sir.\nMy tongue isn't quick or slick, sir.\nI get all those ticks and clocks, sir, \nmixed up with the chicks and tocks, sir.\nI can't do it, Mr. Fox, sir.\n\nI'm so sorry, Mr. Knox, sir.\n\nHere's an easy game to play.\nHere's an easy thing to say....\n\nNew socks.\nTwo socks.\nWhose socks?\nSue's socks.\n\nWho sews whose socks?\nSue sews Sue's socks.\n\nWho sees who sew whose new socks, sir?\nYou see Sue sew Sue's new socks, sir.\n\nThat's not easy, Mr. Fox, sir.\n\nWho comes? ...\nCrow comes.\nSlow Joe Crow comes.\n\nWho sews crow's clothes?\nSue sews crow's clothes.\nSlow Joe Crow sews whose clothes?\nSue's clothes.\n\nSue sews socks of fox in socks now.\n\nSlow Joe Crow sews Knox in box now.\n\nSue sews rose on Slow Joe Crow's clothes.\nFox sews hose on Slow Joe Crow's nose.\n\nHose goes.\nRose grows.\nNose hose goes some.\nCrow's rose grows some.\n\nMr. Fox!\nI hate this game, sir.\nThis game makes my tongue quite lame, sir.\n\nMr. Knox, sir, what a shame, sir.\n\nWe'll find something new to do now.\nHere is lots of new blue goo now.\nNew goo.  Blue goo.\nGooey.  Gooey.\nBlue goo.  New goo.\nGluey. Gluey.\n\nGooey goo for chewy chewing!\nThat's what that Goo-Goose is doing.\nDo you choose to chew goo, too, sir?\nIf, sir, you, sir, choose to chew, sir, \nwith the Goo-Goose, chew, sir.\nDo, sir.\n\nMr. Fox, sir, \nI won't do it.  \nI can't say.  \nI won't chew it.\n\nVery well, sir.\nStep this way.\nWe'll find another game to play.\n\nBim comes.\nBen comes.\nBim brings Ben broom.\nBen brings Bim broom.\n\nBen bends Bim's broom.\nBim bends Ben's broom.\nBim's bends.\nBen's bends.\nBen's bent broom breaks.\nBim's bent broom breaks.\n\nBen's band.  Bim's band.\nBig bands.  Pig bands.\n\nBim and Ben lead bands with brooms.\nBen's band bangs and Bim's band booms.\n\nPig band!  Boom band!\nBig band!  Broom band!\nMy poor mouth can't say that.  No, sir.\nMy poor mouth is much too slow, sir.\n\nWell then... bring your mouth this way.\nI'll find it something it can say.\n\nLuke Luck likes lakes.\nLuke's duck likes lakes.\nLuke Luck licks lakes.\nLuck's duck licks lakes.\n\nDuck takes licks in lakes Luke Luck likes.\nLuke Luck takes licks in lakes duck likes.\n\nI can't blab such blibber blubber!\nMy tongue isn't make of rubber.\n\nMr. Knox.  Now come now.  Come now.\nYou don't have to be so dumb now....\n\nTry to say this, Mr. Knox, please....\n\nThrough three cheese trees three free fleas flew.\nWhile these fleas flew, freezy breeze blew.\nFreezy breeze made these three trees freeze.\nFreezy trees made these trees' cheese freeze.\nThat's what made these three free fleas sneeze.\n\nStop it!  Stop it!\nThat's enough, sir.\nI can't say such silly stuff, sir.\n\nVery well, then, Mr. Knox, sir.\n\nLet's have a little talk about tweetle beetles....\n\nWhat do you know about tweetle beetles?  Well...\n\nWhen tweetle beetles fight, \nit's called a tweetle beetle battle.\n\nAnd when they battle in a puddle, \nit's a tweetle beetle puddle battle.\n\nAND when tweetle beetles battle with paddles in a puddle, \nthey call it a tweetle beetle puddle paddle battle.\n\nAND...\n\nWhen beetles battle beetles in a puddle paddle battle \nand the beetle battle puddle is a puddle in a bottle...\n...they call this a tweetle beetle bottle puddle paddle battle muddle.\n\nAND...\n\nWhen beetles fight these battles in a bottle with their paddles \nand the bottle's on a poodle and the poodle's eating noodles...\n...they call this a muddle puddle tweetle poodle beetle noodle \nbottle paddle battle.\n\nAND...\n\nNow wait a minute, Mr. Socks Fox!\n\nWhen a fox is in the bottle where the tweetle beetles battle \nwith their paddles in a puddle on a noodle-eating poodle, \nTHIS is what they call...\n\n...a tweetle beetle noodle poodle bottled paddled \nmuddled duddled fuddled wuddled fox in socks, sir!\n\nFox in socks, our game is done, sir.\nThank you for a lot of fun, sir.\n", 'how_the_grinch_stole_christmas.txt': 'Every Who\nDown in Whoville\nLiked Christmas a lot...\n\nBut the Grinch,\nWho lived just north of Whoville,\nDid NOT!\n\nThe Grinch hated Christmas! The whole Christmas season!\nNow, please don\'t ask why. No one quite knows the reason.\nIt could be his head wasn\'t screwed on just right.\nIt could be, perhaps, that his shoes were too tight.\nBut I think that the most likely reason of all,\nMay have been that his heart was two sizes too small.\n\nWhatever the reason,\nHis heart or his shoes,\nHe stood there on Christmas Eve, hating the Whos,\nStaring down from his cave with a sour, Grinchy frown,\nAt the warm lighted windows below in their town.\nFor he knew every Who down in Whoville beneath,\nWas busy now, hanging a mistletoe wreath.\n\n"And they\'re hanging their stockings!" he snarled with a sneer,\n"Tomorrow is Christmas! It\'s practically here!"\nThen he growled, with his Grinch fingers nervously drumming,\n"I MUST find some way to stop Christmas from coming!"\nFor Tomorrow, he knew, all the Who girls and boys,\nWould wake bright and early. They\'d rush for their toys!\nAnd then! Oh, the noise! Oh, the Noise!\nNoise! Noise! Noise!\nThat\'s one thing he hated! The NOISE!\nNOISE! NOISE! NOISE!\n\nThen the Whos, young and old, would sit down to a feast.\nAnd they\'d feast! And they\'d feast! And they\'d FEAST!\nFEAST! FEAST! FEAST!\nThey would feast on Who-pudding, and rare Who-roast beast.\nWhich was something the Grinch couldn\'t stand in the least!\n\nAnd THEN They\'d do something He liked least of all!\nEvery Who down in Whoville, the tall and the small,\nWould stand close together, with Christmas bells ringing.\nThey\'d stand hand-in-hand. And the Whos would start singing!\nThey\'d sing! And they\'d sing! And they\'d SING!\nSING! SING! SING!\n\nAnd the more the Grinch thought of this Who-Christmas-Sing,\nThe more the Grinch thought, "I must stop this whole thing!"\n"Why, for fifty-three years I\'ve put up with it now!"\n"I MUST stop this Christmas from coming! But HOW?"\n\nThen he got an idea! An awful idea!\nTHE GRINCH GOT A WONDERFUL, AWFUL IDEA!\n\n"I know just what to do!" The Grinch laughed in his throat.\nAnd he made a quick Santy Claus hat and a coat.\nAnd he chuckled, and clucked, "What a great Grinchy trick!"\n"With this coat and this hat, I look just like Saint Nick!"\n\n"All I need is a reindeer..."\nThe Grinch looked around.\nBut, since reindeer are scarce, there was none to be found.\nDid that stop the old Grinch?\nNo! The Grinch simply said,\n"If I can\'t find a reindeer, I\'ll make one instead!"\nSo he called his dog, Max. Then he took some red thread,\nAnd he tied a big horn on the top of his head.\n\nTHEN\nHe loaded some bags\nAnd some old empty sacks,\nOn a ramshackle sleigh\nAnd he hitched up old Max.\n\nThen the Grinch said, "Giddap!"\nAnd the sleigh started down,\nToward the homes where the Whos\nLay asnooze in their town.\n\nAll their windows were dark. Quiet snow filled the air.\nAll the Whos were all dreaming sweet dreams without care.\nWhen he came to the first little house on the square.\n"This is stop number one," the old Grinchy Claus hissed,\nAnd he climbed to the roof, empty bags in his fist.\n\nThen he slid down the chimney. A rather tight pinch.\nBut, if Santa could do it, then so could the Grinch.\nHe got stuck only once, for a moment or two.\nThen he stuck his head out of the fireplace flue.\nWhere the little Who stockings all hung in a row.\n"These stockings," he grinned, "are the first things to go!"\n\nThen he slithered and slunk, with a smile most unpleasant,\nAround the whole room, and he took every present!\nPop guns! And bicycles! Roller skates! Drums!\nCheckerboards! Tricycles! Popcorn! And plums!\nAnd he stuffed them in bags. Then the Grinch, very nimbly,\nStuffed all the bags, one by one, up the chimney!\n\nThen he slunk to the icebox. He took the Whos\' feast!\nHe took the Who-pudding! He took the roast beast!\nHe cleaned out that icebox as quick as a flash.\nWhy, that Grinch even took their last can of Who-hash!\n\nThen he stuffed all the food up the chimney with glee.\n"And NOW!" grinned the Grinch, "I will stuff up the tree!"\n\nAnd the Grinch grabbed the tree, and he started to shove,\nWhen he heard a small sound like the coo of a dove.\nHe turned around fast, and he saw a small Who!\nLittle Cindy-Lou Who, who was not more than two.\n\nThe Grinch had been caught by this tiny Who daughter,\nWho\'d got out of bed for a cup of cold water.\nShe stared at the Grinch and said, "Santy Claus, why,\n"Why are you taking our Christmas tree? WHY?"\n\nBut, you know, that old Grinch was so smart and so slick,\nHe thought up a lie, and he thought it up quick!\n"Why, my sweet little tot," the fake Santy Claus lied,\n"There\'s a light on this tree that won\'t light on one side."\n"So I\'m taking it home to my workshop, my dear."\n"I\'ll fix it up there. Then I\'ll bring it back here."\n\nAnd his fib fooled the child. Then he patted her head,\nAnd he got her a drink and he sent her to bed.\nAnd when Cindy-Lou Who went to bed with her cup,\nHE went to the chimney and stuffed the tree up!\n\nThen the last thing he took\nWas the log for their fire!\nThen he went up the chimney, himself, the old liar.\nOn their walls he left nothing but hooks and some wire.\n\nAnd the one speck of food\nThat he left in the house,\nWas a crumb that was even too small for a mouse.\n\nThen\nHe did the same thing To the other Whos\' houses\n\nLeaving crumbs\nMuch too small\nFor the other Whos\' mouses!\n\nIt was quarter past dawn...\nAll the Whos, still a-bed,\nAll the Whos, still asnooze\nWhen he packed up his sled,\nPacked it up with their presents! The ribbons! The wrappings!\nThe tags! And the tinsel! The trimmings! The trappings!\n\nThree thousand feet up! Up the side of Mt. Crumpit,\nHe rode with his load to the tiptop to dump it!\n"Pooh-pooh to the Whos!" he was grinchishly humming.\n"They\'re finding out now that no Christmas is coming!"\n"They\'re just waking up! I know just what they\'ll do!"\n"Their mouths will hang open a minute or two,\nThen the Whos down in Whoville will all cry Boo-Hoo!"\n\n"That\'s a noise," grinned the Grinch,\n"That I simply MUST hear!"\nSo he paused. And the Grinch put his hand to his ear.\nAnd he did hear a sound rising over the snow.\nIt started in low. Then it started to grow.\n\nBut the sound wasn\'t sad! Why, this sound sounded merry!\nIt couldn\'t be so! But it WAS merry! VERY!\nHe stared down at Whoville! The Grinch popped his eyes!\nThen he shook! What he saw was a shocking surprise!\n\nEvery Who down in Whoville, the tall and the small,\nWas singing! Without any presents at all!\nHe HADN\'T stopped Christmas from coming!\nIT CAME!\nSomehow or other, it came just the same!\n\nAnd the Grinch, with his grinch-feet ice-cold in the snow,\nStood puzzling and puzzling: "How could it be so?"\n"It came with out ribbons! It came without tags!"\n"It came without packages, boxes or bags!"\nAnd he puzzled three hours, till his puzzler was sore.\nThen the Grinch thought of something he hadn\'t before!\n"Maybe Christmas," he thought, "doesn\'t come from a store."\n"Maybe Christmas...perhaps...means a little bit more!"\n\nAnd what happened then?\nWell...in Whoville they say,\nThat the Grinch\'s small heart\nGrew three sizes that day!\nAnd the minute his heart didn\'t feel quite so tight,\nHe whizzed with his load through the bright morning light,\nAnd he brought back the toys! And the food for the feast!\nAnd he, HE HIMSELF! The Grinch carved the roast beast!\n', 'hop_on_pop.txt': 'UP PUP Pup is up.\nCUP PUP Pup in cup.\nPUP CUP Cup on pup.\nMOUSE HOUSE Mouse on house.\nHOUSE MOUSE House on mouse.\nALL TALL We all are tall.\nALL SMALL We all are small.\nALL BALL We all play ball.\nBALL WALL Up on a wall.\nALL FALL Fall off the wall.\nDAY PLAY We play all day.\nNIGHT FIGHT We fight all night.HE ME He is after me.\nHIM JIM Jim is after him.\nSEE BEE We see a bee.\nSEE BEE THREE Now we see three.\nTHREE TREE Three fish in a tree.\nFish in a tree? How can that be?\nRED RED They call me Red.\nRED BED I am in bed.\nRED NED TED and ED in BED\nPAT PAT they call him Pat.\nPAT SAT Pat sat on hat.\nPAT CAT Pat sat on cat.\nPAT BAT Pat sat on bat.\nNO PAT NO Don’t sit on that.\nSAD DAD BAD HAD Dad is sad.\nVery, very sad.\nHe had a bad day. What a day Dad had!\nTHING THING What is that thing?\nTHING SING That thing can sing!\nSONG LONG A long, long song.\nGood-by, Thing. You sing too long.\nWALK WALK We like to walk.\nWALK TALK We like to talk.\nHOP POP We like to hop.\nWe like to hop on top of Pop.\nSTOP You must not hop on Pop.\nMr. BROWN Mrs. BROWN\nMr. Brown upside down.\nPup up. Brown down.\nPup is down. Where is Brown?\nWHERE IS BROWN? THERE IS BROWN!\nMr. Brown is out of town.\nBACK BLACK Brown came back.\nBrown came back with Mr. Black.\nSNACK SNACK Eat a snack.\nEat a snack with Brown and Black.\nJUMP BUMP He jumped. He bumped.\nFAST PAST He went past fast.\nWENT TENT SENT He went into the tent.\nI sent him out of the tent.\nWET GET Two dogs get wet.\nHELP YELP They yelp for help.\nHILL WILL Will went up hill.\nWILL HILL STILL Will is up hill still.\nFATHER MOTHER SISTER BROTHER\nThat one is my other brother.\nMy brothers read a little bit.\nLittle words like If and it.\nMy father can read big words, too.\nLike CONSTANTINOPLE and TIMBUKTU\nSAY SAY What does this say?\nseehemewe\npatpuppop\nhethreetreebee\ntophopstop\nAsk me tomorrow but not today.\n', 'horton_hears_a_who.txt': 'On the fifteenth of May, in the jungle of Nool,\nIn the heat of the day, in the cool of the pool,\nHe was splashing...enjoying the jungle\'s great joys...\nWhen Horton the elephant heard a small noise.\n\nSo Horton stopped splashing. He looked towards the sound.\n"That\'s funny," thought Horton. "There\'s no one around."\nThen he heard it again! Just a very faint yelp\nAs if some tiny person were calling for help.\n"I\'ll help you," said Horton. "But who are you? Where?"\nHe looked and he looked. He could see nothing there\nBut a small speck of dust blowing past though the air.\n\n"I say!" murmured Horton. "I\'ve never heard tell\nOf a small speck of dust that is able to yell.\nSo you know what I think?...Why, I think that there must\nBe someone on top of that small speck of dust!\nSome sort of a creature of very small size,\ntoo small to be seen by an elephant\'s eyes...\n\n"...some poor little person who\'s shaking with fear\nThat he\'ll blow in the pool! He has no way to steer!\nI\'ll just have to save him. Because, after all,\nA person\'s a person, no matter how small."\n\nSo, gently, and using the greatest of care,\nThe elephant stretched his great trunk through the air,\nAnd he lifted the dust speck and carried it over\nAnd placed it down, safe, on a very soft clover.\n\n"Humpf!" humpfed a voice. Twas a sour Kangaroo.\nAnd the young kangaroo in he pouch said "Humpf!" too\n"Why, that speck is as small as the head of a pin.\nA person on that?...why, there never has been!"\n\n"Believe me," said Horton. "I tell you sincerely,\nMy ears are quite keen and I heard him quite clearly.\nI know there\'s a person down there. And, what\'s more,\nQuite likely there\'s two. Even three. Even four.\nQuite likely...\n\n"...a family, for all that we know!\nA family with children just starting to grow.\nSo, please," Horton said, "as a favour to me,\nTry not to disturb them. Just let them be."\n\n"I think you\'re a fool!" laughed the sour kangaroo\nAnd the young kangaroo in her pouch said, "Me, too!\nYou\'re the biggest blame fool in the jungle of Nool!"\nAnd the kangaroos plunged in the cool of the pool.\n"What terrible splashing!" the elephant frowned.\n"I can\'t let my very small persons get drowned!\nI\'ve got to protect them. I\'m bigger than they."\nSo he plucked up the clover and hustled away.\n\nThrough the high jungle tree tops, the news quickly spread:\n"He talks to a dust speck! He\'s out of his head!\nJust look at him walk with that speck on the flower!"\nAnd Horton walked, worrying, almost an hour.\n"Should I put this speck down?..." Horton though with alarm.\n"If I do, these small persons may come to great harm.\nI can\'t put it down. And I won\'t! After all\nA person\'s a person. No matter how small."\n\nThen Horton stopped walking.\nThe speck-voice was talking!\nThe voice was so faint he could just barely hear it.\n"Speak up, please," Said Horton. He put his ear near it.\n"My friend," came the voice, "you\'re a very fine friend.\nYou\'ve helped all us folks on this dust speck no end.\nYou\'ve saved all our houses, our ceilings and floors.\nYou\'ve saved all our churches and grocery stores."\n\n"You mean..." Horton gasped, "you have buildings there, too?"\n"Oh, yes," piped the voice. "We most certainly do...\n"I know," called the voice, "I\'m too small to be seen\nBut I\'m Mayor of a town that is friendly and clean.\nOur buildings, to you, would seem terribly small\nBut to us, who aren\'t big, they are wonderfully tall.\nMy town is called Who-ville, for I am a Who\nAnd we Whos are all thankful and greatful to you"\n\nAnd Horton called back to the Mayor of the town,\n"You\'re safe now. Don\'t worry. I won\'t let you down."\n\nBut, Just as he spoke to the Mayor of the speck,\nThree big jungle monkeys climbed up Horton\'s neck!\nThe Wickersham Brothers came shouting, "What rot!\nThis elephants talking to Whos who are not!\nThere aren\'t any Whos! And they don\'t have a Mayor!\nAnd we\'re going to stop all this nonsense! So there!"\n\nThey snatched Horton\'s clover! They carried it off\nTo a black-bottomed eagle named Valad Vlad-I-koff,\nA mighty strong eagle, of very swift wing,\nAnd they said, "Will you kindly get rid of this thing?"\nAnd, before the poor elephant could even speak,\nThat eagle flew off with the flower in his beak.\n\nAll that late afternoon and far into the night\nThat black-bottomed bird flapped his wings in fast flight,\nWhile Horton chased after, with groans, over stones\nThat tattered his toenails and battered his bones,\nAnd begged, "Please don\'t harm all my little folks, who\nHave as much right to live as us bigger folk do!"\n\nBut far, far beyond him, that eagle kept flapping\nAnd over his shoulder called back, "Quit your yapping.\nI\'ll fly the night through. I\'m a bird. I don\'t mind it.\nAnd I\'ll hide this, tomorrow, where you\'ll never find it!"\n\nAnd at 6:56 the next morning he did it.\nIt sure was a terrible place that he hid it.\nHe let that small clover drop somewhere inside\nOf a great patch of clovers a hundred miles wide!\n"Find THAT!" sneered the bird. "But I think you will fail."\nAnd he left\nWith a flip\nOf his black-bottomed tail.\n\n"I\'ll find it!" cried Horton. "I\'ll find it or bust!\nI SHALL find my friends on my small speck of dust!"\nAnd clover, by clover, by clover with care\nHe picked up and searched the, and called, "Are you there?"\nBut clover, by clover, by clover he found\nThat the one that he sought for was just not around.\nAnd by noon poor old Horton, more dead than alive,\nHad picked, searched, and piled up, nine thousand and five.\n\nThen, on through the afternoon, hour after hour...\nTill he found them at last! On the three millionth flower!\n"My friends!" cried the elephant. "Tell me! Do tell!\nAre you safe? Are you sound? Are you whole? Are you well?"\n\nFrom down on the speck came the voice of the Mayor:\n"We\'ve really had trouble! Much more than our share.\nWhen that black-bottomed birdie let go and we dropped,\nWe landed so hard that our clocks have all stopped.\nOur tea pots are broken. Our rocking-chairs are smashed.\nAnd our bicycle tires all blew up when we crashed.\nSo, Horton, Please!" pleaded that voice of the Mayor\'s,\n"Will you stick by us Whos while we\'re making repairs?"\n\n"Of course," Horton answered. "Of course I will stick.\nI\'ll stick by you small folks though thin and though thick!"\n\n"Humpf!" humpfed a voice!\n"For almost two days you\'ve run wild and insisted\nOn chatting with persons who\'ve never existed.\nSuch carryings-on in our peaceable jungle!\nWe\'ve had quite enough of your bellowing bungle!\nAnd I\'m here to state," snapped the big kangaroo,\n"That your silly nonsensical game is all through!"\nAnd the young kangaroo in her pouch said, "Me, too!"\n\n"With the help of the Wickersham Brothers and dozens\nOf Wickersham Uncles and Wickershams Cousins\nAnd Wickersham In-Laws, whose help I\'ve engaged,\nYou\'re going to be roped! And you\'re going to be caged!\nAnd, as for your dust speck...hah!\nThat we shall boil\nIn a hot steaming kettle of Beezle-Nut Oil!"\n"Boil it?..." gasped Horton!\n"Oh, that you can\'t do!\nIt\'s all full of persons!\nThey\'ll prove it to you!"\n\n"Mr. Mayor! Mr. Mayor!" Horton called. "Mr. Mayor!\nYou\'ve got to prove that you really are there!\nSo call a big meeting. Get everyone out.\nMake every Who holler! Make every Who shout!\nMake every Who scream! If you don\'t, every Who\nIs going to end up in a Beezle-Nut stew!"\n\nAnd, down on the dust speck, the scared little Mayor\nQuick called a big meeting in Who-ville Town Square.\nAnd his people cried loudly. They cried out in fear:\n"We are here! We are here! We are here!"\n\nThe elephant smiled: "That was clear as a bell.\nYou Kangaroos surely heard that very well."\n"All I heard," snapped the big kangaroo, "Was the breeze,\nAnd the faint sound of wind through the far-distant trees.\nI heard no small voices. And you didn\'t either."\nAnd the you kangaroo in her pouch said, "Me, neither."\n\n"Grab him!" they shouted. "And cage the big dope!\nLasso his stomach with ten miles of rope!\nTie the knots tight so he\'ll never shake lose!\nThen dunk that dumb speck in the Beezle-Nut juice!"\n\n\n\nHorton fought back with great vigor and vim\nBut the Wickersham gang was too many for him.\nThey beat him! They mauled him! They started to haul\nHim into his cage! But he managed to call\nTo the Mayor: "Don\'t give up! I believe in you all\nA person\'s a person, no matter how small!\nAnd you very small persons will not have to die\nIf you make yourselves heard! So come on, now, and TRY!"\n\nThe Mayor grabbed a tom-tom. He started to smack it.\nAnd, all over Who-ville, they whooped up a racked.\nThey rattled tie kettles! They beat on brass pans,\nOn garbage pail tops and old cranberry cans!\nThey blew on bazooka and blasted great toots\nOn clarinets, oom-pahs and boom-pahs and flutes!\n\nGreat gusts of loud racket rang high through the air.\nThey rattled and shook the whole sky! And the Mayor\nCalled up through the howling mad hullabaloo:\n"Hey Horton! Hows this? Is our sound coming through?"\n\nAnd Horton called back, "I can hear you just fine.\nBut the kangaroos\' ears aren\'t as strong, quite, as mine.\nThey don\'t hear a thing! Are you sure all you boys\nAre doing their best? Are they ALL making noise?\nAre you sure every Who down in Who-ville is working?\nQuick! Look through your town! Is there anyone shirking?"\n\nThrough the town rushed the Mayor, From the east to the west.\nBut everyone seemed to be doing his best.\nEveryone seemed to be yapping or yipping!\nEveryone seemed to be beeping or bipping!\nBut it wasn\'t enough, all this ruckus and roar!\nHe HAD to find someone to help him make more.\nHe raced through each building! He searched floor-to-floor!\n\nAnd, just as he felt he was getting nowhere,\nAnd almost about to give up in despair,\nHe suddenly burst through a door and that Mayor\nDiscovered one shirker! Quite hidden away\nIn the Fairfax Apartments (Apartment 12-J)\nA very small, very small shirker named Jo-Jo\nwas standing, just standing, and bouncing a Yo-Yo!\nNot making a sound! Not a yipp! Not a chirp!\nAnd the Mayor rushed inside and he grabbed the young twerp!\n\nAnd he climbed with the lad up the Eiffelberg Tower.\n"This," cried the Mayor, "is your towns darkest hour!\nThe time for all Whos who have blood that is red\nTo come to the aid of their country!" he said.\n"We\'ve GOT to make noises in greater amounts!\nSo, open your mouth, lad! For every voice counts!"\n\nThus he spoke as he climbed. When they got to the top,\nThe lad cleared his throat and he shouted out, "YOPP!"\n\nAnd that Yopp...\nThat one small, extra Yopp put it over!\nFinally, at last! From that speck on that clover\nTheir voices were heard! They rang out clear and clean.\nAnd the elephant smiled. "Do you see what I mean?...\nThey\'ve proved they ARE persons, no matter how small.\nAnd their whole world was saved by the smallest of All!"\n\n"How true! Yes, how true," said the big kangaroo.\n"And, from now on, you know what I\'m planning to do?...\nFrom now on, I\'m going to protect them with you!"\nAnd the young kangaroo in her pouch said...\n"...ME, TOO!"\n"From the sun in the summer. From rain when it\'s fall-ish,\nI\'m going to protect them. No matter how small-ish!"\n', 'oh_the_places_youll_go.txt': 'Congratulations!\nToday is your day.\nYou\'re off to Great Places!\nYou\'re off and away!\n\nYou have brains in your head.\nYou have feet in your shoes\nYou can steer yourself\nAny direction you choose.\nYou\'re on your own. And you know what you know.\nAnd YOU are the guy who\'ll decide where to go.\n\nYou\'ll look up and down streets. Look \'em over with care.\nAbout some you will say, "I don\'t choose to go there."\nWith your head full of brains and your shoes full of feet,\nYou\'re too smart to go down any not-so-good street.\n\nAnd you may not find any\nYou\'ll want to go down.\nIn that case, of course,\nYou\'ll head straight out of town.\n\nIt\'s opener there\nIn the wide open air.\n\nOut there things can happen\nAnd frequently do\nTo people as brainy\nAnd footsy as you.\n\nAnd when things start to happen,\nDon\'t worry. Don\'t stew.\nJust go right along.\nYou\'ll start happening too.\n\nOH!\nTHE PLACES YOU\'LL GO!\n\nYou\'ll be on your way up!\nYou\'ll be seeing great sights!\nYou\'ll join the high fliers\nWho soar to high heights.\n\nYou won\'t lag behind, because you\'ll have the speed.\nYou\'ll pass the whole gang and you\'ll soon take the lead.\nWherever you fly, you\'ll be the best of the best.\nWherever you go, you will top all the rest.\n\nExcept when you don\' t\nBecause, sometimes, you won\'t.\n\nI\'m sorry to say so\nbut, sadly, it\'s true\nthat Bang-ups\nand Hang-ups\ncan happen to you.\n\nYou can get all hung up\nin a prickle-ly perch.\nAnd your gang will fly on.\nYou\'ll be left in a Lurch.\n\nYou\'ll come down from the Lurch\nwith an unpleasant bump.\nAnd the chances are, then,\nthat you\'ll be in a Slump.\n\nAnd when you\'re in a Slump,\nyou\'re not in for much fun.\nUn-slumping yourself\nis not easily done.\n\nYou will come to a place where the streets are not marked.\nSome windows are lighted. But mostly they\'re darked.\nA place you could sprain both your elbow and chin!\nDo you dare to stay out? Do you dare to go in?\nHow much can you lose? How much can you win?\n\nAnd IF you go in, should you turn left or right...\nor right-and-three-quarters? Or, maybe, not quite?\nOr go around back and sneak in from behind?\nSimple it\'s not, I\'m afraid you will find,\nfor a mind-maker-upper to make up his mind.\n\nYou can get so confused\nthat you\'ll start in to race\ndown long wiggled roads at a break-necking pace\nand grind on for miles cross weirdish wild space,\nheaded, I fear, toward a most useless place.\nThe Waiting Place...\n\n...for people just waiting.\nWaiting for a train to go\nor a bus to come, or a plane to go\nor the mail to come, or the rain to go\nor the phone to ring, or the snow to snow\nor the waiting around for a Yes or No\nor waiting for their hair to grow.\nEveryone is just waiting.\n\nWaiting for the fish to bite\nor waiting for the wind to fly a kite\nor waiting around for Friday night\nor waiting, perhaps, for their Uncle Jake\nor a pot to boil, or a Better Break\nor a string of pearls, or a pair of pants\nor a wig with curls, or Another Chance.\nEveryone is just waiting.\n\nNO!\nThat\'s not for you!\n\nSomehow you\'ll escape\nall that waiting and staying\nYou\'ll find the bright places\nwhere Boom Bands are playing.\n\nWith banner flip-flapping,\nonce more you\'ll ride high!\nReady for anything under the sky.\nReady because you\'re that kind of a guy!\n\nOh, the places you\'ll go! There is fun to be done!\nThere are points to be scored. There are games to be won.\nAnd the magical things you can do with that ball\nwill make you the winning-est winner of all.\nFame! You\'ll be as famous as famous can be,\nwith the whole wide world watching you win on TV.\n\nExcept when they don\'t\nBecause, sometimes they won\'t.\n\nI\'m afraid that some times\nyou\'ll play lonely games too.\nGames you can\'t win\n\'cause you\'ll play against you.\n\nAll Alone!\nWhether you like it or not,\nAlone will be something\nyou\'ll be quite a lot.\n\nAnd when you\'re alone, there\'s a very good chance\nyou\'ll meet things that scare you right out of your pants.\nThere are some, down the road between hither and yon,\nthat can scare you so much you won\'t want to go on.\n\nBut on you will go\nthough the weather be foul.\nOn you will go\nthough your enemies prowl.\nOn you will go\nthough the Hakken-Kraks howl.\nOnward up many\na frightening creek,\nthough your arms may get sore\nand your sneakers may leak.\n\nOn and on you will hike,\nAnd I know you\'ll hike far\nand face up to your problems\nwhatever they are.\n\nYou\'ll get mixed up, of course,\nAs you already know.\nYou\'ll get mixed up\nWith many strange birds as you go.\nSo be sure when you step.\nStep with care and great tact\nAnd remember that Life\'s\nA Great Balancing Act.\nJust never forget to be dexterous and deft.\nAnd never mix up your right foot with your left.\n\nAnd will you succeed?\nYes! You will, indeed!\n(98 and 3/4 percent guaranteed.)\n\nKID, YOU\'LL MOVE MOUNTAINS!\n\nSo...\nBe your name Buxbaum or Bixby or Bray\nOr Mordecai Ali Van Allen O\'Shea,\nYou\'re off to Great Places!\nToday is your day!\nYour mountain is waiting.\nSo...get on your way!\n', 'one_fish_two_fish.txt': 'One fish, two fish, red fish, blue fish,\nBlack fish, blue fish, old fish, new fish.\nThis one has a little car.\nThis one has a little star.\nSay! What a lot of fish there are.\nYes. Some are red, and some are blue.\nSome are old. And some are new.\nSome are sad. And some are glad.\nAnd some are very, very bad.\nWhy are they sad and glad and bad?\nI do not know, go ask your dad.\nSome are thin. And some are fat.\nThe fat one has a yellow hat.\nFrom there to here,\nfrom here to there,\nfunny things are everywhere.\n\nHere are some who like to run.\nThey run for fun in the hot, hot sun.\nOh me! Oh my! Oh me! oh my!\nWhat a lot of funny things go by.\nSome have two feet and some have four.\nSome have six feet and some have more.\nWhere do they come from? I can\'t say.\nBut I bet they have come a long, long way.\nWe see them come, we see them go.\nSome are fast. And some are slow.\nSome are high. And some are low.\nNot one of them is like another.\nDon\'t ask us why, go ask your mother.\n\nSay! Look at his fingers!\nOne, two, three...\nHow many fingers do I see?\nOne, two, three, four,\nfive, six, seven, eight, nine, ten.\nHe has eleven!\nEleven! This is something new.\nI wish I had eleven too!\n\nBump! Bump! Bump!\nDid you ever ride a Wump?\nWe have a Wump with just one hump.\nBut we know a man called Mr. Gump.\nMr. Gump has a seven hump Wump. So...\nIf you like to go Bump! Bump!\nJust jump on the hump of the Wump of Gump.\n\nWho am I? My name is Ned\nI do not like my little bed.\nThis is no good. This is not right.\nMy feet stick out of bed all night.\nAnd when I pull them in,\nOh, dear!\nMy head sticks out of bed up here!\n\nWe like our bike. It is made for three.\nOur Mike sits up in back, you see.\nWe like our Mike, and this is why:\nMike does all the work when the hills get high.\n\nHello there, Ned. How do you do?\nTell me, tell me what is new?\nHow are things in your little bed?\nWhat is new? Please tell me Ned.\n\nI do not like this bed at all.\na lot of things have come to call.\nA cow, a dog, a cat, a mouse.\nOh! what a bed! Oh! what a house!\n\nOh, dear! Oh, dear! I cannot hear.\nWill you please come over near?\nWill you please look in my ear?\nThere must be something there, I fear.\nSay look! A bird was in your ear.\nBut he is out. So have no fear.\nAgain your ear can hear, my dear.\n\nMy hat is old. My teeth are gold.\nI have a bird I like to hold.\nMy shoe is off. My foot is cold.\nMy shoe is off. My foot is cold.\nI have a bird I like to hold.\nMy hat is old. My teeth are gold.\nAnd now my story is all told.\n\nWe took a look. We saw a Nook.\nOn his head he had a hook.\nOn his hook he had a book.\nOn his book was "How to Cook."\nWe saw him sit and try to cook.\nHe took a look at the book on the hook.\nBut a Nook can\'t read, so a Nook can\'t cook.\nSO...\nWhat good to a Nook is a hook cook book?\n\nThe moon was out and we saw some sheep.\nWe saw some sheep take a walk in their sleep.\nBy the light of the moon, by the light of a star,\nthey walked all night from near to far.\nI would never walk. I would take a car.\n\nI do not like this one so well.\nAll he does is yell, yell, yell.\nI will not have this one about.\nWhen he comes in I put him out.\nThis one is quiet as a mouse.\nI like to have him in the house.\n\nAt our house we open cans.\nWe have to open many cans.\nand that is why we have a Zans.\nA Zans for cans is very good.\nHave you a Zans for cans? You should.\n\nI like to box. How I like to box.\nSo, every day, I box a Gox.\nIn yellow socks I box my Gox.\nI box in yellow Gox box socks.\n\nIt is fun to sing if you sing with a Ying.\nMy Ying can sing like anything.\nI sing high and my Ying sings low.\nAnd we are not too bad, you know.\n\nThis one, I think, is called a Yink.\nHe likes to wink, he likes to drink.\nHe likes to drink, and drink, and drink.\nThe thing he likes to drink is ink.\nThe ink he likes to drink is pink.\nHe likes to wink and drink pink ink.\nSO...\nIf you have a lot of ink,\nthen you should get a Yink, I think.\n\nHop! Hop! Hop! I am a Yop\nAll I like to do is hop,\nFrom finger top to finger top.\nI hop from left to right and then...\nHop! Hop! I hop right back again.\nI like to hop all day and night.\nFrom right to left and left to right.\nWhy do I like to hop, hop, hop?\nI do not know. Go ask your Pop.\n\nBrush! Brush! Brush! Brush!\nComb! Comb! Comb! Comb!\nBlue hair is fun to brush and comb.\nAll girls who like to brush and comb,\nShould have a pet like this at home.\n\nWho is this pet? Say! He is wet.\nYou never yet met a pet, I bet,\nas wet as they let this wet pet get.\n\nDid you ever fly a kite in bed?\nDid you ever walk with ten cats on your head?\nDid you ever milk this kind of cow?\nWell, we can do it. We know how.\nIf you never did, you should.\nThese things are fun, and fun is good.\n\nHello! Hello! Are you there?\nHello! I called you up to say hello.\nI said hello.\nCan you hear me, Joe?\nOh no. I cannot hear your call.\nI cannot hear your call at all.\nThis is not good and I know why.\nA mouse has cut the wire. Good-by!\n\nFrom near to far, from here to there,\nFunny things are everywhere.\nThese yellow pets are called the Zeds.\nThey have one hair upon their heads.\nTheir hair grows fast. So fast they say,\nThey need a haircut every day.\n\nWho am I? My name is Ish\nOn my hand I have a dish.\nI have this dish to help me wish.\nWhen I wish to make a wish\nI wave my hand with a big swish swish.\nThen I say, "I wish for fish!"\nAnd I get fish right on my dish.\nSo...\nIf you wish to make a wish,\nyou may swish for fish with my Ish wish dish.\n\nAt our house we play out back.\nWe play a game called Ring the Gack.\nWould you like to play this game?\nCome down! We have the only Gack in town.\n\nLook what we found in the park in the dark.\nWe will take him home, we will call him Clark.\nHe will live at our house, he will grow and grow.\nWill our mother like this? We don\'t know.\n\nAnd now good night.\nIt is time to sleep\nSo we will sleep with our pet Zeep.\nToday is gone. Today was fun.\nTomorrow is another one.\nEvery day, from here to there.\nfunny things are everywhere.\n'}</code></pre>
</div>
</div>
</section>
<section id="bag-of-words-representation" class="slide level2">
<h2>Bag-of-Words Representation</h2>
<p>In the <strong>bag-of-words</strong> representation in this data, each column represents a word, and the values in the column are the word counts for that document.</p>
<p>First, we need to count the words in each document.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb36-2"><a href="#cb36-2"></a>Counter(docs[<span class="st">"hop_on_pop.txt"</span>].split())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Counter({'is': 10, 'on': 10, 'We': 10, 'a': 9, 'He': 6, 'PAT': 6, 'Brown': 6, 'in': 5, 'all': 5, 'like': 5, 'Pup': 4, 'ALL': 4, 'RED': 4, 'and': 4, 'to': 4, 'Mr.': 4, 'PUP': 3, 'the': 3, 'can': 3, 'Pat': 3, 'sat': 3, 'What': 3, 'THING': 3, 'WALK': 3, 'of': 3, 'down.': 3, 'went': 3, 'up.': 2, 'CUP': 2, 'MOUSE': 2, 'HOUSE': 2, 'are': 2, 'BALL': 2, 'play': 2, 'wall.': 2, 'day.': 2, 'after': 2, 'SEE': 2, 'BEE': 2, 'see': 2, 'THREE': 2, 'that': 2, 'They': 2, 'call': 2, 'me': 2, 'BED': 2, 'I': 2, 'him': 2, 'NO': 2, 'Dad': 2, 'sad.': 2, 'That': 2, 'You': 2, 'hop': 2, 'Pop.': 2, 'not': 2, 'BROWN': 2, 'IS': 2, 'out': 2, 'came': 2, 'with': 2, 'Black.': 2, 'SNACK': 2, 'Eat': 2, 'tent.': 2, 'HILL': 2, 'WILL': 2, 'Will': 2, 'up': 2, 'My': 2, 'read': 2, 'SAY': 2, 'UP': 1, 'cup.': 1, 'Cup': 1, 'pup.': 1, 'Mouse': 1, 'house.': 1, 'House': 1, 'mouse.': 1, 'TALL': 1, 'tall.': 1, 'SMALL': 1, 'small.': 1, 'ball.': 1, 'WALL': 1, 'Up': 1, 'FALL': 1, 'Fall': 1, 'off': 1, 'DAY': 1, 'PLAY': 1, 'NIGHT': 1, 'FIGHT': 1, 'fight': 1, 'night.HE': 1, 'ME': 1, 'me.': 1, 'HIM': 1, 'JIM': 1, 'Jim': 1, 'him.': 1, 'bee.': 1, 'Now': 1, 'we': 1, 'three.': 1, 'TREE': 1, 'Three': 1, 'fish': 1, 'tree.': 1, 'Fish': 1, 'tree?': 1, 'How': 1, 'be?': 1, 'Red.': 1, 'am': 1, 'bed.': 1, 'NED': 1, 'TED': 1, 'ED': 1, 'they': 1, 'Pat.': 1, 'SAT': 1, 'hat.': 1, 'CAT': 1, 'cat.': 1, 'BAT': 1, 'bat.': 1, 'Don’t': 1, 'sit': 1, 'that.': 1, 'SAD': 1, 'DAD': 1, 'BAD': 1, 'HAD': 1, 'Very,': 1, 'very': 1, 'had': 1, 'bad': 1, 'day': 1, 'had!': 1, 'thing?': 1, 'SING': 1, 'thing': 1, 'sing!': 1, 'SONG': 1, 'LONG': 1, 'A': 1, 'long,': 1, 'long': 1, 'song.': 1, 'Good-by,': 1, 'Thing.': 1, 'sing': 1, 'too': 1, 'long.': 1, 'walk.': 1, 'TALK': 1, 'talk.': 1, 'HOP': 1, 'POP': 1, 'hop.': 1, 'top': 1, 'STOP': 1, 'must': 1, 'Mrs.': 1, 'upside': 1, 'Where': 1, 'Brown?': 1, 'WHERE': 1, 'BROWN?': 1, 'THERE': 1, 'BROWN!': 1, 'town.': 1, 'BACK': 1, 'BLACK': 1, 'back.': 1, 'back': 1, 'snack.': 1, 'snack': 1, 'JUMP': 1, 'BUMP': 1, 'jumped.': 1, 'bumped.': 1, 'FAST': 1, 'PAST': 1, 'past': 1, 'fast.': 1, 'WENT': 1, 'TENT': 1, 'SENT': 1, 'into': 1, 'sent': 1, 'WET': 1, 'GET': 1, 'Two': 1, 'dogs': 1, 'get': 1, 'wet.': 1, 'HELP': 1, 'YELP': 1, 'yelp': 1, 'for': 1, 'help.': 1, 'hill.': 1, 'STILL': 1, 'hill': 1, 'still.': 1, 'FATHER': 1, 'MOTHER': 1, 'SISTER': 1, 'BROTHER': 1, 'one': 1, 'my': 1, 'other': 1, 'brother.': 1, 'brothers': 1, 'little': 1, 'bit.': 1, 'Little': 1, 'words': 1, 'If': 1, 'it.': 1, 'father': 1, 'big': 1, 'words,': 1, 'too.': 1, 'Like': 1, 'CONSTANTINOPLE': 1, 'TIMBUKTU': 1, 'does': 1, 'this': 1, 'say?': 1, 'seehemewe': 1, 'patpuppop': 1, 'hethreetreebee': 1, 'tophopstop': 1, 'Ask': 1, 'tomorrow': 1, 'but': 1, 'today.': 1})</code></pre>
</div>
</div>
</section>
<section id="bag-of-words-representation-1" class="slide level2">
<h2>Bag-of-Words Representation</h2>
<p>… then, we put these counts into a <code>Series</code> and stack them into a <code>DataFrame</code>.</p>
<p>This is called the <strong>term-frequency matrix</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a>pd.DataFrame(</span>
<span id="cb38-2"><a href="#cb38-2"></a>    [pd.Series(Counter(doc.split())) <span class="cf">for</span> doc <span class="kw">in</span> docs.values()],</span>
<span id="cb38-3"><a href="#cb38-3"></a>    index<span class="op">=</span>docs.keys())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                       I   am  Sam  ...  gone.  Tomorrow  one.
green_eggs_and_ham.txt              71.0  3.0  3.0  ...    NaN       NaN   NaN
cat_in_the_hat.txt                  48.0  NaN  NaN  ...    NaN       NaN   NaN
fox_in_socks.txt                     9.0  NaN  NaN  ...    NaN       NaN   NaN
how_the_grinch_stole_christmas.txt   6.0  NaN  NaN  ...    NaN       NaN   NaN
hop_on_pop.txt                       2.0  1.0  NaN  ...    NaN       NaN   NaN
horton_hears_a_who.txt              18.0  1.0  NaN  ...    NaN       NaN   NaN
oh_the_places_youll_go.txt           2.0  NaN  NaN  ...    NaN       NaN   NaN
one_fish_two_fish.txt               48.0  3.0  NaN  ...    1.0       1.0   1.0

[8 rows x 2562 columns]</code></pre>
</div>
</div>
</section>
<section id="bag-of-words-in-scikit-learn" class="slide level2">
<h2>Bag-of-Words in Scikit-Learn</h2>
<p>Alternatively, we can use <code>CountVectorizer</code> in <code>scikit-learn</code> to produce a term-frequency matrix.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> CountVectorizer</span>
<span id="cb40-2"><a href="#cb40-2"></a></span>
<span id="cb40-3"><a href="#cb40-3"></a>vec <span class="op">=</span> CountVectorizer()</span>
<span id="cb40-4"><a href="#cb40-4"></a></span>
<span id="cb40-5"><a href="#cb40-5"></a>vec.fit(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-8 {color: black;}#sk-container-id-8 pre{padding: 0;}#sk-container-id-8 div.sk-toggleable {background-color: white;}#sk-container-id-8 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-8 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-8 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-8 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-8 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-8 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-8 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-8 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-8 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-8 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-8 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-8 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-8 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-8 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-8 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-8 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-8 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-8 div.sk-item {position: relative;z-index: 1;}#sk-container-id-8 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-8 div.sk-item::before, #sk-container-id-8 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-8 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-8 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-8 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-8 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-8 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-8 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-8 div.sk-label-container {text-align: center;}#sk-container-id-8 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-8 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-8" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>CountVectorizer()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-36" type="checkbox" checked=""><label for="sk-estimator-id-36" class="sk-toggleable__label sk-toggleable__label-arrow">CountVectorizer</label><div class="sk-toggleable__content"><pre>CountVectorizer()</pre></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>vec.transform(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;8x1344 sparse matrix of type '&lt;class 'numpy.int64'&gt;'
    with 2308 stored elements in Compressed Sparse Row format&gt;</code></pre>
</div>
</div>
</section>
<section id="vocabulary" class="slide level2">
<h2>Vocabulary</h2>
<p>The set of words across a corpus is called the <strong>vocabulary</strong>. We can view the vocabulary in a fitted <code>CountVectorizer</code> as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a>vec.vocabulary_</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'am': 23, 'sam': 935, 'that': 1138, 'do': 287, 'not': 767, 'like': 644, 'you': 1336, 'green': 471, 'eggs': 326, 'and': 26, 'ham': 495, 'them': 1141, 'would': 1316, 'here': 526, 'or': 786, 'there': 1143, 'anywhere': 32, 'in': 576, 'house': 558, 'with': 1303, 'mouse': 722, 'eat': 323, 'box': 132, 'fox': 419, 'could': 242, 'car': 179, 'they': 1145, 'are': 35, 'may': 688, 'will': 1292, 'see': 953, 'tree': 1204, 'let': 635, 'me': 691, 'be': 62, 'mot': 718, 'train': 1202, 'on': 778, 'say': 944, 'the': 1139, 'dark': 265, 'rain': 884, 'goat': 453, 'boat': 118, 'so': 1035, 'try': 1213, 'if': 575, 'good': 459, 'thank': 1136, 'sun': 1107, 'did': 279, 'shine': 972, 'it': 586, 'was': 1255, 'too': 1188, 'wet': 1268, 'to': 1178, 'play': 836, 'we': 1261, 'sat': 940, 'all': 16, 'cold': 231, 'day': 270, 'sally': 934, 'two': 1220, 'said': 932, 'how': 560, 'wish': 1302, 'had': 488, 'something': 1042, 'go': 452, 'out': 789, 'ball': 50, 'nothing': 768, 'at': 43, 'sit': 1001, 'one': 780, 'little': 650, 'bit': 102, 'bump': 157, 'then': 1142, 'went': 1265, 'made': 673, 'us': 1231, 'jump': 594, 'looked': 660, 'saw': 943, 'him': 536, 'step': 1077, 'mat': 684, 'cat': 185, 'hat': 507, 'he': 513, 'why': 1285, 'know': 614, 'is': 583, 'sunny': 1108, 'but': 165, 'can': 176, 'have': 512, 'lots': 663, 'of': 773, 'fun': 434, 'funny': 435, 'some': 1039, 'games': 438, 'new': 747, 'tricks': 1207, 'lot': 662, 'show': 986, 'your': 1338, 'mother': 719, 'mind': 704, 'what': 1269, 'our': 788, 'for': 413, 'fish': 388, 'no': 754, 'make': 676, 'away': 44, 'tell': 1130, 'want': 1253, 'should': 980, 'about': 4, 'when': 1271, 'now': 769, 'fear': 368, 'my': 735, 'bad': 47, 'game': 437, 'call': 172, 'up': 1226, 'put': 869, 'down': 299, 'this': 1151, 'fall': 358, 'hold': 543, 'high': 532, 'as': 39, 'stand': 1064, 'book': 122, 'hand': 496, 'cup': 260, 'look': 659, 'cake': 171, 'top': 1191, 'books': 123, 'litte': 649, 'toy': 1200, 'ship': 973, 'milk': 702, 'dish': 284, 'hop': 550, 'oh': 775, 'these': 1144, 'rake': 885, 'man': 680, 'tail': 1117, 'red': 897, 'fan': 362, 'fell': 372, 'his': 538, 'head': 514, 'came': 175, 'from': 429, 'things': 1149, 'into': 582, 'pot': 853, 'lit': 648, 'sank': 937, 'deep': 275, 'shook': 979, 'bent': 85, 'get': 444, 'another': 27, 'ran': 887, 'fast': 364, 'back': 46, 'big': 93, 'wood': 1308, 'shut': 987, 'hook': 548, 'trick': 1206, 'take': 1118, 'got': 462, 'tip': 1175, 'bow': 131, 'pick': 823, 'thing': 1148, 'bite': 103, 'shake': 964, 'hands': 497, 'their': 1140, 'those': 1153, 'gave': 442, 'pat': 807, 'tame': 1125, 'come': 233, 'give': 448, 'fly': 405, 'kites': 611, 'hit': 540, 'run': 925, 'hall': 494, 'wall': 1251, 'thump': 1161, 'string': 1096, 'kite': 610, 'gown': 463, 'her': 525, 'dots': 297, 'pink': 829, 'white': 1277, 'bed': 67, 'bumps': 159, 'jumps': 596, 'kicks': 605, 'hops': 551, 'thumps': 1162, 'kinds': 609, 'way': 1260, 'she': 969, 'home': 545, 'hear': 517, 'find': 380, 'near': 738, 'think': 1150, 'rid': 903, 'after': 7, 'net': 745, 'bet': 87, 'yet': 1327, 'plop': 841, 'last': 625, 'thoe': 1152, 'stop': 1086, 'pack': 793, 'dear': 273, 'shame': 967, 'sad': 929, 'kind': 607, 'has': 505, 'gone': 457, 'yes': 1326, 'mess': 697, 'tall': 1124, 'ca': 168, 'who': 1279, 'always': 22, 'playthings': 838, 'were': 1266, 'picked': 824, 'strings': 1097, 'any': 29, 'well': 1264, 'asked': 41, 'socks': 1037, 'knox': 616, 'chicks': 203, 'bricks': 143, 'blocks': 112, 'clocks': 224, 'sir': 999, 'mr': 727, 'first': 387, 'll': 653, 'quick': 875, 'brick': 142, 'stack': 1063, 'block': 111, 'chick': 202, 'clock': 223, 'ticks': 1165, 'tocks': 1180, 'tick': 1164, 'tock': 1179, 'six': 1003, 'sick': 988, 'please': 840, 'don': 293, 'tongue': 1187, 'isn': 585, 'slick': 1011, 'mixed': 709, 'sorry': 1048, 'an': 25, 'easy': 322, 'whose': 1283, 'sue': 1105, 'sews': 963, 'sees': 959, 'sew': 962, 'comes': 234, 'crow': 255, 'slow': 1014, 'joe': 590, 'clothes': 226, 'rose': 920, 'hose': 554, 'nose': 766, 'goes': 454, 'grows': 482, 'hate': 508, 'makes': 678, 'quite': 879, 'lame': 622, 'blue': 117, 'goo': 458, 'gooey': 460, 'gluey': 451, 'chewy': 201, 'chewing': 200, 'goose': 461, 'doing': 292, 'choose': 209, 'chew': 199, 'won': 1305, 'very': 1237, 'bim': 97, 'ben': 82, 'brings': 146, 'broom': 148, 'bends': 83, 'breaks': 140, 'band': 51, 'bands': 52, 'pig': 825, 'lead': 630, 'brooms': 149, 'bangs': 54, 'booms': 125, 'boom': 124, 'poor': 849, 'mouth': 724, 'much': 730, 'bring': 145, 'luke': 669, 'luck': 668, 'likes': 647, 'lakes': 621, 'duck': 309, 'licks': 637, 'takes': 1119, 'blab': 105, 'such': 1103, 'blibber': 110, 'blubber': 116, 'rubber': 923, 'dumb': 311, 'through': 1160, 'three': 1158, 'cheese': 198, 'trees': 1205, 'free': 420, 'fleas': 395, 'flew': 396, 'while': 1276, 'freezy': 422, 'breeze': 141, 'blew': 109, 'freeze': 421, 'sneeze': 1033, 'enough': 340, 'silly': 991, 'stuff': 1100, 'talk': 1121, 'tweetle': 1218, 'beetles': 72, 'fight': 377, 'called': 173, 'beetle': 71, 'battle': 59, 'puddle': 866, 'paddles': 798, 'paddle': 796, 'bottle': 127, 'muddle': 731, 'battles': 60, 'poodle': 846, 'eating': 324, 'noodles': 761, 'noodle': 760, 'wait': 1244, 'minute': 706, 'where': 1272, 'bottled': 128, 'paddled': 797, 'muddled': 732, 'duddled': 310, 'fuddled': 432, 'wuddled': 1319, 'done': 294, 'every': 346, 'whoville': 1284, 'liked': 645, 'christmas': 210, 'grinch': 473, 'lived': 652, 'just': 598, 'north': 765, 'hated': 509, 'whole': 1280, 'season': 952, 'ask': 40, 'knows': 615, 'reason': 896, 'wasn': 1256, 'screwed': 950, 'right': 905, 'perhaps': 817, 'shoes': 978, 'tight': 1168, 'most': 716, 'likely': 646, 'been': 69, 'heart': 519, 'sizes': 1005, 'small': 1019, 'whatever': 1270, 'stood': 1085, 'eve': 343, 'hating': 510, 'whos': 1282, 'staring': 1068, 'cave': 189, 'sour': 1053, 'grinchy': 475, 'frown': 430, 'warm': 1254, 'lighted': 643, 'windows': 1295, 'below': 81, 'town': 1198, 'knew': 612, 'beneath': 84, 'busy': 164, 'hanging': 499, 'mistletoe': 707, 'wreath': 1318, 're': 892, 'stockings': 1082, 'snarled': 1027, 'sneer': 1031, 'tomorrow': 1186, 'practically': 856, 'growled': 481, 'fingers': 384, 'nervously': 744, 'drumming': 307, 'must': 734, 'coming': 235, 'girls': 447, 'boys': 134, 'wake': 1246, 'bright': 144, 'early': 318, 'rush': 926, 'toys': 1201, 'noise': 755, 'young': 1337, 'old': 777, 'feast': 369, 'pudding': 865, 'rare': 889, 'roast': 912, 'beast': 64, 'which': 1275, 'couldn': 243, 'least': 632, 'close': 225, 'together': 1183, 'bells': 80, 'ringing': 907, 'start': 1069, 'singing': 997, 'sing': 996, 'more': 714, 'thought': 1155, 'fifty': 376, 'years': 1322, 've': 1236, 'idea': 574, 'awful': 45, 'wonderful': 1306, 'laughed': 627, 'throat': 1159, 'santy': 939, 'claus': 216, 'coat': 230, 'chuckled': 211, 'clucked': 229, 'great': 467, 'saint': 933, 'nick': 750, 'need': 742, 'reindeer': 898, 'around': 38, 'since': 994, 'scarce': 945, 'none': 757, 'found': 417, 'simply': 993, 'instead': 581, 'dog': 290, 'max': 687, 'took': 1189, 'thread': 1157, 'tied': 1167, 'horn': 552, 'loaded': 655, 'bags': 48, 'empty': 335, 'sacks': 928, 'ramshackle': 886, 'sleigh': 1010, 'hitched': 541, 'giddap': 446, 'started': 1070, 'toward': 1195, 'homes': 546, 'lay': 629, 'asnooze': 42, 'quiet': 877, 'snow': 1034, 'filled': 378, 'air': 12, 'dreaming': 301, 'sweet': 1112, 'dreams': 302, 'without': 1304, 'care': 180, 'square': 1062, 'number': 771, 'hissed': 539, 'climbed': 222, 'roof': 916, 'fist': 389, 'slid': 1012, 'chimney': 206, 'rather': 890, 'pinch': 828, 'santa': 938, 'stuck': 1099, 'only': 781, 'once': 779, 'moment': 710, 'fireplace': 386, 'flue': 403, 'hung': 570, 'row': 922, 'grinned': 477, 'slithered': 1013, 'slunk': 1017, 'smile': 1023, 'unpleasant': 1225, 'room': 917, 'present': 857, 'pop': 850, 'guns': 485, 'bicycles': 92, 'roller': 915, 'skates': 1006, 'drums': 308, 'checkerboards': 197, 'tricycles': 1208, 'popcorn': 851, 'plums': 843, 'stuffed': 1101, 'nimbly': 752, 'by': 167, 'icebox': 573, 'cleaned': 218, 'flash': 394, 'even': 344, 'hash': 506, 'food': 408, 'glee': 450, 'grabbed': 466, 'shove': 985, 'heard': 518, 'sound': 1051, 'coo': 239, 'dove': 298, 'turned': 1215, 'cindy': 213, 'lou': 664, 'than': 1135, 'caught': 187, 'tiny': 1174, 'daughter': 268, 'water': 1258, 'stared': 1067, 'taking': 1120, 'smart': 1021, 'lie': 638, 'tot': 1194, 'fake': 357, 'lied': 639, 'light': 642, 'side': 989, 'workshop': 1312, 'fix': 391, 'fib': 374, 'fooled': 410, 'child': 204, 'patted': 810, 'drink': 303, 'sent': 960, 'log': 656, 'fire': 385, 'himself': 537, 'liar': 636, 'walls': 1252, 'left': 634, 'hooks': 549, 'wire': 1301, 'speck': 1056, 'crumb': 256, 'same': 936, 'other': 787, 'houses': 559, 'leaving': 633, 'crumbs': 257, 'mouses': 723, 'quarter': 873, 'past': 806, 'dawn': 269, 'still': 1081, 'packed': 795, 'sled': 1008, 'presents': 858, 'ribbons': 902, 'wrappings': 1317, 'tags': 1116, 'tinsel': 1173, 'trimmings': 1209, 'trappings': 1203, 'thousand': 1156, 'feet': 371, 'mt': 729, 'crumpit': 258, 'rode': 914, 'load': 654, 'tiptop': 1176, 'dump': 312, 'pooh': 847, 'grinchishly': 474, 'humming': 565, 'finding': 381, 'waking': 1247, 'mouths': 725, 'hang': 498, 'open': 784, 'cry': 259, 'boo': 121, 'hoo': 547, 'paused': 811, 'ear': 317, 'rising': 908, 'over': 790, 'low': 667, 'grow': 480, 'sounded': 1052, 'merry': 696, 'popped': 852, 'eyes': 352, 'shocking': 976, 'surprise': 1111, 'hadn': 489, 'stopped': 1087, 'somehow': 1040, 'ice': 572, 'puzzling': 872, 'packages': 794, 'boxes': 133, 'puzzled': 870, 'hours': 557, 'till': 1169, 'puzzler': 871, 'sore': 1047, 'before': 74, 'maybe': 689, 'doesn': 289, 'store': 1088, 'means': 693, 'happened': 501, 'grew': 472, 'didn': 280, 'feel': 370, 'whizzed': 1278, 'morning': 715, 'brought': 152, 'carved': 183, 'pup': 868, 'off': 774, 'night': 751, 'jim': 588, 'bee': 68, 'ned': 741, 'ted': 1128, 'ed': 325, 'bat': 57, 'dad': 263, 'song': 1045, 'long': 658, 'walk': 1248, 'brown': 153, 'mrs': 728, 'upside': 1230, 'black': 106, 'snack': 1025, 'jumped': 595, 'bumped': 158, 'tent': 1132, 'dogs': 291, 'help': 523, 'yelp': 1325, 'hill': 534, 'father': 366, 'sister': 1000, 'brother': 150, 'brothers': 151, 'read': 893, 'words': 1309, 'constantinople': 238, 'timbuktu': 1170, 'does': 288, 'seehemewe': 954, 'patpuppop': 809, 'hethreetreebee': 527, 'tophopstop': 1192, 'today': 1181, 'fifteenth': 375, 'jungle': 597, 'nool': 763, 'heat': 520, 'cool': 241, 'pool': 848, 'splashing': 1058, 'enjoying': 339, 'joys': 592, 'horton': 553, 'elephant': 331, 'towards': 1196, 'again': 9, 'faint': 355, 'person': 818, 'calling': 174, 'dust': 314, 'blowing': 115, 'though': 1154, 'murmured': 733, 'never': 746, 'able': 3, 'yell': 1323, 'someone': 1041, 'sort': 1049, 'creature': 251, 'size': 1004, 'seen': 958, 'shaking': 965, 'blow': 114, 'steer': 1076, 'save': 941, 'because': 66, 'matter': 685, 'gently': 443, 'using': 1233, 'greatest': 469, 'stretched': 1095, 'trunk': 1212, 'lifted': 641, 'carried': 181, 'placed': 832, 'safe': 931, 'soft': 1038, 'clover': 227, 'humpf': 567, 'humpfed': 568, 'voice': 1242, 'twas': 1217, 'kangaroo': 599, 'pouch': 855, 'pin': 827, 'believe': 77, 'sincerely': 995, 'ears': 319, 'keen': 601, 'clearly': 221, 'four': 418, 'family': 360, 'children': 205, 'starting': 1071, 'favour': 367, 'disturb': 286, 'fool': 409, 'biggest': 95, 'blame': 107, 'kangaroos': 600, 'plunged': 844, 'terrible': 1133, 'frowned': 431, 'persons': 819, 'drowned': 306, 'protect': 861, 'bigger': 94, 'plucked': 842, 'hustled': 571, 'tops': 1193, 'news': 748, 'quickly': 876, 'spread': 1061, 'talks': 1123, 'flower': 402, 'walked': 1249, 'worrying': 1315, 'almost': 18, 'hour': 556, 'alarm': 13, 'harm': 504, 'walking': 1250, 'talking': 1122, 'barely': 56, 'speak': 1055, 'friend': 425, 'fine': 382, 'helped': 524, 'folks': 407, 'end': 336, 'saved': 942, 'ceilings': 190, 'floors': 401, 'churches': 212, 'grocery': 479, 'stores': 1089, 'mean': 692, 'gasped': 441, 'buildings': 156, 'piped': 830, 'certainly': 191, 'mayor': 690, 'friendly': 426, 'clean': 217, 'seem': 956, 'terribly': 1134, 'aren': 36, 'wonderfully': 1307, 'ville': 1239, 'thankful': 1137, 'greatful': 470, 'worry': 1314, 'spoke': 1059, 'monkeys': 711, 'neck': 739, 'wickersham': 1286, 'shouting': 984, 'rot': 921, 'elephants': 332, 'going': 455, 'nonsense': 758, 'snatched': 1028, 'bottomed': 129, 'eagle': 316, 'named': 737, 'valad': 1234, 'vlad': 1241, 'koff': 617, 'mighty': 699, 'strong': 1098, 'swift': 1113, 'wing': 1296, 'kindly': 608, 'beak': 63, 'late': 626, 'afternoon': 8, 'far': 363, 'bird': 99, 'flapped': 392, 'wings': 1297, 'flight': 398, 'chased': 195, 'groans': 478, 'stones': 1084, 'tattered': 1126, 'toenails': 1182, 'battered': 58, 'bones': 120, 'begged': 75, 'live': 651, 'folk': 406, 'beyond': 90, 'kept': 602, 'flapping': 393, 'shoulder': 981, 'quit': 878, 'yapping': 1321, 'hide': 531, '56': 1, 'next': 749, 'sure': 1109, 'place': 831, 'hid': 529, 'drop': 304, 'somewhere': 1044, 'inside': 579, 'patch': 808, 'clovers': 228, 'hundred': 569, 'miles': 701, 'wide': 1288, 'sneered': 1032, 'fail': 354, 'flip': 399, 'cried': 253, 'bust': 163, 'shall': 966, 'friends': 427, 'searched': 951, 'sought': 1050, 'noon': 764, 'dead': 272, 'alive': 15, 'piled': 826, 'nine': 753, 'five': 390, 'millionth': 703, 'really': 895, 'trouble': 1210, 'share': 968, 'birdie': 100, 'dropped': 305, 'landed': 623, 'hard': 503, 'tea': 1127, 'pots': 854, 'broken': 147, 'rocking': 913, 'chairs': 192, 'smashed': 1022, 'bicycle': 91, 'tires': 1177, 'crashed': 250, 'pleaded': 839, 'stick': 1079, 'making': 679, 'repairs': 900, 'course': 246, 'answered': 28, 'thin': 1147, 'thick': 1146, 'days': 271, 'wild': 1291, 'insisted': 580, 'chatting': 196, 'existed': 350, 'carryings': 182, 'peaceable': 812, 'bellowing': 79, 'bungle': 160, 'state': 1072, 'snapped': 1026, 'nonsensical': 759, 'dozens': 300, 'uncles': 1223, 'wickershams': 1287, 'cousins': 247, 'laws': 628, 'engaged': 338, 'roped': 919, 'caged': 170, 'hah': 490, 'boil': 119, 'hot': 555, 'steaming': 1075, 'kettle': 603, 'beezle': 73, 'nut': 772, 'oil': 776, 'full': 433, 'prove': 862, 'meeting': 695, 'everyone': 347, 'holler': 544, 'shout': 982, 'scream': 949, 'stew': 1078, 'scared': 947, 'people': 814, 'loudly': 666, 'smiled': 1024, 'clear': 219, 'bell': 78, 'surely': 1110, 'wind': 1294, 'distant': 285, 'voices': 1243, 'either': 329, 'neither': 743, 'grab': 465, 'shouted': 983, 'cage': 169, 'dope': 296, 'lasso': 624, 'stomach': 1083, 'ten': 1131, 'rope': 918, 'tie': 1166, 'knots': 613, 'lose': 661, 'dunk': 313, 'juice': 593, 'fought': 415, 'vigor': 1238, 'vim': 1240, 'gang': 439, 'many': 682, 'beat': 65, 'mauled': 686, 'haul': 511, 'managed': 681, 'die': 281, 'yourselves': 1340, 'tom': 1185, 'smack': 1018, 'whooped': 1281, 'racked': 882, 'rattled': 891, 'kettles': 604, 'brass': 137, 'pans': 802, 'garbage': 440, 'pail': 800, 'cranberry': 249, 'cans': 178, 'bazooka': 61, 'blasted': 108, 'toots': 1190, 'clarinets': 214, 'oom': 783, 'pahs': 799, 'flutes': 404, 'gusts': 486, 'loud': 665, 'racket': 883, 'rang': 888, 'sky': 1007, 'howling': 562, 'mad': 672, 'hullabaloo': 564, 'hey': 528, 'hows': 563, 'mine': 705, 'best': 86, 'working': 1311, 'anyone': 30, 'shirking': 975, 'rushed': 927, 'east': 321, 'west': 1267, 'seemed': 957, 'yipping': 1331, 'beeping': 70, 'bipping': 98, 'ruckus': 924, 'roar': 911, 'raced': 881, 'each': 315, 'building': 155, 'floor': 400, 'felt': 373, 'getting': 445, 'nowhere': 770, 'despair': 277, 'suddenly': 1104, 'burst': 161, 'door': 295, 'discovered': 283, 'shirker': 974, 'hidden': 530, 'fairfax': 356, 'apartments': 34, 'apartment': 33, '12': 0, 'jo': 589, 'standing': 1065, 'bouncing': 130, 'yo': 1332, 'yipp': 1330, 'chirp': 208, 'twerp': 1219, 'lad': 619, 'eiffelberg': 327, 'tower': 1197, 'towns': 1199, 'darkest': 267, 'time': 1171, 'blood': 113, 'aid': 11, 'country': 244, 'noises': 756, 'greater': 468, 'amounts': 24, 'counts': 245, 'thus': 1163, 'cleared': 220, 'yopp': 1335, 'extra': 351, 'finally': 379, 'proved': 863, 'world': 1313, 'smallest': 1020, 'true': 1211, 'planning': 835, 'summer': 1106, 'ish': 584, 'congratulations': 237, 'places': 833, 'brains': 135, 'yourself': 1339, 'direction': 282, 'own': 791, 'guy': 487, 'decide': 274, 'streets': 1094, 'em': 334, 'street': 1093, 'case': 184, 'straight': 1091, 'opener': 785, 'happen': 500, 'frequently': 423, 'brainy': 136, 'footsy': 412, 'along': 20, 'happening': 502, 'seeing': 955, 'sights': 990, 'join': 591, 'fliers': 397, 'soar': 1036, 'heights': 521, 'lag': 620, 'behind': 76, 'speed': 1057, 'pass': 805, 'soon': 1046, 'wherever': 1273, 'rest': 901, 'except': 349, 'sometimes': 1043, 'sadly': 930, 'bang': 53, 'ups': 1229, 'prickle': 859, 'ly': 671, 'perch': 816, 'lurch': 670, 'chances': 194, 'slump': 1015, 'un': 1221, 'slumping': 1016, 'easily': 320, 'marked': 683, 'mostly': 717, 'darked': 266, 'sprain': 1060, 'both': 126, 'elbow': 330, 'chin': 207, 'dare': 264, 'stay': 1073, 'win': 1293, 'turn': 1214, 'quarters': 874, 'sneak': 1029, 'simple': 992, 'afraid': 6, 'maker': 677, 'upper': 1228, 'confused': 236, 'race': 880, 'wiggled': 1290, 'roads': 910, 'break': 139, 'necking': 740, 'pace': 792, 'grind': 476, 'cross': 254, 'weirdish': 1263, 'space': 1054, 'headed': 515, 'useless': 1232, 'waiting': 1245, 'bus': 162, 'plane': 834, 'mail': 675, 'phone': 822, 'ring': 906, 'hair': 491, 'friday': 424, 'uncle': 1222, 'jake': 587, 'better': 88, 'pearls': 813, 'pair': 801, 'pants': 803, 'wig': 1289, 'curls': 261, 'chance': 193, 'escape': 341, 'staying': 1074, 'playing': 837, 'banner': 55, 'ride': 904, 'ready': 894, 'anything': 31, 'under': 1224, 'points': 845, 'scored': 948, 'magical': 674, 'winning': 1300, 'est': 342, 'winner': 1299, 'fame': 359, 'famous': 361, 'watching': 1257, 'tv': 1216, 'times': 1172, 'lonely': 657, 'cause': 188, 'against': 10, 'alone': 19, 'whether': 1274, 'meet': 694, 'scare': 946, 'road': 909, 'between': 89, 'hither': 542, 'yon': 1333, 'weather': 1262, 'foul': 416, 'enemies': 337, 'prowl': 864, 'hakken': 493, 'kraks': 618, 'howl': 561, 'onward': 782, 'frightening': 428, 'creek': 252, 'arms': 37, 'sneakers': 1030, 'leak': 631, 'hike': 533, 'face': 353, 'problems': 860, 'already': 21, 'strange': 1092, 'birds': 101, 'tact': 1115, 'remember': 899, 'life': 640, 'balancing': 49, 'act': 5, 'forget': 414, 'dexterous': 278, 'deft': 276, 'mix': 708, 'foot': 411, 'succeed': 1102, 'indeed': 577, '98': 2, 'percent': 815, 'guaranteed': 483, 'kid': 606, 'move': 726, 'mountains': 721, 'name': 736, 'buxbaum': 166, 'bixby': 104, 'bray': 138, 'mordecai': 713, 'ali': 14, 'van': 1235, 'allen': 17, 'shea': 970, 'mountain': 720, 'star': 1066, 'glad': 449, 'fat': 365, 'yellow': 1324, 'everywhere': 348, 'seven': 961, 'eight': 328, 'eleven': 333, 'ever': 345, 'wump': 1320, 'hump': 566, 'gump': 484, 'pull': 867, 'sticks': 1080, 'bike': 96, 'mike': 700, 'sits': 1002, 'work': 1310, 'hills': 535, 'hello': 522, 'cow': 248, 'cannot': 177, 'teeth': 1129, 'gold': 456, 'shoe': 977, 'story': 1090, 'told': 1184, 'nook': 762, 'cook': 240, 'moon': 712, 'sheep': 971, 'sleep': 1009, 'zans': 1341, 'gox': 464, 'ying': 1328, 'sings': 998, 'yink': 1329, 'wink': 1298, 'ink': 578, 'yop': 1334, 'finger': 383, 'brush': 154, 'comb': 232, 'pet': 820, 'met': 698, 'cats': 186, 'cut': 262, 'pets': 821, 'zeds': 1342, 'upon': 1227, 'heads': 516, 'haircut': 492, 'wave': 1259, 'swish': 1114, 'gack': 436, 'park': 804, 'clark': 215, 'zeep': 1343}</code></pre>
</div>
</div>
</section>
<section id="text-normalizing" class="slide level2">
<h2>Text Normalizing</h2>
<p>What’s wrong with the way we counted words originally?</p>
<pre><code>Counter({'UP': 1, 'PUP': 3, 'Pup': 4, 'is': 10, 'up.': 2, ...})</code></pre>
<ul>
<li class="fragment"><p>It’s usually good to <strong>normalize</strong> for punctuation and capitalization.</p></li>
<li class="fragment"><p>Normalization options are specified when you initialize the <code>CountVectorizer</code>.</p></li>
<li class="fragment"><p>By default, Scikit-Learn strips punctuation and converts all characters to lowercase.</p></li>
<li class="fragment"><p>If you don’t want Scikit-Learn to normalize for punctuation and capitalization, you can do the following:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a>vec <span class="op">=</span> CountVectorizer(lowercase<span class="op">=</span><span class="va">False</span>, token_pattern<span class="op">=</span><span class="vs">r"[\S]+"</span>)</span>
<span id="cb46-2"><a href="#cb46-2"></a>vec.fit(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-9 {color: black;}#sk-container-id-9 pre{padding: 0;}#sk-container-id-9 div.sk-toggleable {background-color: white;}#sk-container-id-9 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-9 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-9 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-9 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-9 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-9 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-9 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-9 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-9 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-9 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-9 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-9 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-9 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-9 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-9 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-9 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-9 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-9 div.sk-item {position: relative;z-index: 1;}#sk-container-id-9 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-9 div.sk-item::before, #sk-container-id-9 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-9 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-9 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-9 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-9 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-9 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-9 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-9 div.sk-label-container {text-align: center;}#sk-container-id-9 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-9 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-9" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>CountVectorizer(lowercase=False, token_pattern='[\\S]+')</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-37" type="checkbox" checked=""><label for="sk-estimator-id-37" class="sk-toggleable__label sk-toggleable__label-arrow">CountVectorizer</label><div class="sk-toggleable__content"><pre>CountVectorizer(lowercase=False, token_pattern='[\\S]+')</pre></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a>vec.transform(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;8x2562 sparse matrix of type '&lt;class 'numpy.int64'&gt;'
    with 3679 stored elements in Compressed Sparse Row format&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section id="n-grams" class="title-slide slide level1 center">
<h1>N-grams</h1>

</section>
<section id="the-shortcomings-of-bag-of-words" class="slide level2">
<h2>The Shortcomings of Bag-of-Words</h2>
<p>Bag-of-words is easy to understand and easy to implement.</p>
<p>What are its disadvantages?</p>
<p>Consider the following documents:</p>
<ol type="1">
<li class="fragment"><p>“The dog bit her owner.”</p></li>
<li class="fragment"><p>“Her dog bit the owner.”</p></li>
</ol>
<p>Both documents have the same exact bag-of-words representation, but they mean something quite different!</p>
</section>
<section id="n-grams-1" class="slide level2">
<h2>N-grams</h2>
<ul>
<li class="fragment"><p>An <strong>n-gram</strong> is a sequence of <span class="math inline">\(n\)</span> words.</p></li>
<li class="fragment"><p>N-grams allow us to capture more of the meaning.</p></li>
<li class="fragment"><p>For example, if we count <strong>bigrams</strong> (2-grams) instead of words, we can distinguish the two documents from before:</p></li>
</ul>
<ol type="1">
<li class="fragment"><p>“The dog bit her owner.”</p></li>
<li class="fragment"><p>“Her dog bit the owner.”</p></li>
</ol>
<p><span class="math display">\[\begin{array}{l|ccccccc}
&amp; \text{the,dog} &amp; \text{her,dog} &amp; \text{dog,bit} &amp; \text{bit,the} &amp; \text{bit,her} &amp; \text{the,owner} &amp; \text{her,owner} \\
\hline
\text{1} &amp; 1 &amp; 0 &amp; 1 &amp; 0 &amp; 1 &amp; 0 &amp; 1 \\
\text{2} &amp; 0 &amp; 1 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 0 \\
\end{array}\]</span></p>
</section>
<section id="n-grams-in-scikit-learn" class="slide level2">
<h2>N-grams in Scikit-Learn</h2>
<p>Scikit-Learn can create n-grams.</p>
<p>Pass in <code>ngram_range=</code> to the <code>CountVectorizer</code>.</p>
<p>To get bigrams, we set the range to <code>(2, 2)</code> …</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a>vec <span class="op">=</span> CountVectorizer(ngram_range<span class="op">=</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb49-2"><a href="#cb49-2"></a>vec.fit(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-10 {color: black;}#sk-container-id-10 pre{padding: 0;}#sk-container-id-10 div.sk-toggleable {background-color: white;}#sk-container-id-10 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-10 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-10 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-10 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-10 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-10 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-10 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-10 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-10 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-10 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-10 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-10 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-10 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-10 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-10 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-10 div.sk-item {position: relative;z-index: 1;}#sk-container-id-10 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-10 div.sk-item::before, #sk-container-id-10 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-10 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-10 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-10 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-10 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-10 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-10 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-10 div.sk-label-container {text-align: center;}#sk-container-id-10 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-10 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-10" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>CountVectorizer(ngram_range=(2, 2))</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-38" type="checkbox" checked=""><label for="sk-estimator-id-38" class="sk-toggleable__label sk-toggleable__label-arrow">CountVectorizer</label><div class="sk-toggleable__content"><pre>CountVectorizer(ngram_range=(2, 2))</pre></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>vec.transform(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;8x5846 sparse matrix of type '&lt;class 'numpy.int64'&gt;'
    with 6459 stored elements in Compressed Sparse Row format&gt;</code></pre>
</div>
</div>
</section>
<section id="n-grams-in-scikit-learn-1" class="slide level2">
<h2>N-grams in Scikit-learn</h2>
<p>… or we can also get individual words (unigrams) alongside the bigrams:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a>vec <span class="op">=</span> CountVectorizer(ngram_range<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb52-2"><a href="#cb52-2"></a>vec.fit(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-11 {color: black;}#sk-container-id-11 pre{padding: 0;}#sk-container-id-11 div.sk-toggleable {background-color: white;}#sk-container-id-11 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-11 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-11 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-11 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-11 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-11 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-11 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-11 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-11 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-11 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-11 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-11 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-11 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-11 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-11 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-11 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-11 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-11 div.sk-item {position: relative;z-index: 1;}#sk-container-id-11 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-11 div.sk-item::before, #sk-container-id-11 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-11 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-11 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-11 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-11 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-11 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-11 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-11 div.sk-label-container {text-align: center;}#sk-container-id-11 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-11 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-11" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>CountVectorizer(ngram_range=(1, 2))</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-39" type="checkbox" checked=""><label for="sk-estimator-id-39" class="sk-toggleable__label sk-toggleable__label-arrow">CountVectorizer</label><div class="sk-toggleable__content"><pre>CountVectorizer(ngram_range=(1, 2))</pre></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a>vec.transform(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;8x7190 sparse matrix of type '&lt;class 'numpy.int64'&gt;'
    with 8767 stored elements in Compressed Sparse Row format&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section id="text-data-and-distances" class="title-slide slide level1 center">
<h1>Text Data and Distances</h1>

</section>
<section id="similar-documents" class="slide level2">
<h2>Similar documents</h2>
<p>Now, we can use this <strong>bag-of-words</strong> data to measure <strong>similarities</strong> between documents!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a>vec <span class="op">=</span> CountVectorizer(ngram_range<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb55-2"><a href="#cb55-2"></a>vec.fit(docs.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-12 {color: black;}#sk-container-id-12 pre{padding: 0;}#sk-container-id-12 div.sk-toggleable {background-color: white;}#sk-container-id-12 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-12 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-12 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-12 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-12 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-12 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-12 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-12 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-12 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-12 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-12 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-12 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-12 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-12 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-12 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-12 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-12 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-12 div.sk-item {position: relative;z-index: 1;}#sk-container-id-12 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-12 div.sk-item::before, #sk-container-id-12 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-12 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-12 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-12 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-12 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-12 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-12 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-12 div.sk-label-container {text-align: center;}#sk-container-id-12 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-12 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-12" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>CountVectorizer(ngram_range=(1, 2))</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-40" type="checkbox" checked=""><label for="sk-estimator-id-40" class="sk-toggleable__label sk-toggleable__label-arrow">CountVectorizer</label><div class="sk-toggleable__content"><pre>CountVectorizer(ngram_range=(1, 2))</pre></div></div></div></div></div>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1"></a>dat <span class="op">=</span> vec.transform(docs.values())</span>
<span id="cb56-2"><a href="#cb56-2"></a></span>
<span id="cb56-3"><a href="#cb56-3"></a>dists <span class="op">=</span> pairwise_distances(dat)</span>
<span id="cb56-4"><a href="#cb56-4"></a>dists</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([[  0.        , 204.84628383, 178.52730884, 219.79535937,
        168.42802617, 228.52570971, 183.5973856 , 178.83511959],
       [204.84628383,   0.        , 189.45711916, 157.15597348,
        186.2793601 , 152.32859219, 175.28262892, 156.12815249],
       [178.52730884, 189.45711916,   0.        , 171.66828478,
         95.21554495, 189.95262567, 141.52031656, 130.11533345],
       [219.79535937, 157.15597348, 171.66828478,   0.        ,
        163.84138671, 138.97481786, 174.56230979, 162.59766296],
       [168.42802617, 186.2793601 ,  95.21554495, 163.84138671,
          0.        , 188.92855793, 133.1990991 , 112.89818422],
       [228.52570971, 152.32859219, 189.95262567, 138.97481786,
        188.92855793,   0.        , 162.83120094, 164.95453919],
       [183.5973856 , 175.28262892, 141.52031656, 174.56230979,
        133.1990991 , 162.83120094,   0.        , 134.98888843],
       [178.83511959, 156.12815249, 130.11533345, 162.59766296,
        112.89818422, 164.95453919, 134.98888843,   0.        ]])</code></pre>
</div>
</div>
</section>
<section id="similar-documents-1" class="slide level2">
<h2>Similar documents</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1"></a>dists[<span class="dv">0</span>].argsort()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([0, 4, 2, 7, 6, 1, 3, 5])</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1"></a>docs.keys()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>dict_keys(['green_eggs_and_ham.txt', 'cat_in_the_hat.txt', 'fox_in_socks.txt', 'how_the_grinch_stole_christmas.txt', 'hop_on_pop.txt', 'horton_hears_a_who.txt', 'oh_the_places_youll_go.txt', 'one_fish_two_fish.txt'])</code></pre>
</div>
</div>
<ul>
<li class="fragment">This is how data scientists do <strong>authorship identification</strong>!</li>
</ul>
</section>
<section id="similar-documents-2" class="slide level2">
<h2>Similar documents</h2>
<p><strong>BUT WAIT!</strong></p>
<ul>
<li class="fragment"><p>Wouldn’t a <em>longer document</em> have <em>more words</em>, and thus be able to match other documents?</p></li>
<li class="fragment"><p>Next class: <strong>preprocessing</strong> bag-of-words data with tf-idf.</p></li>
<li class="fragment"><p>Recall that there are many <strong>distance metrics</strong> out there.</p></li>
<li class="fragment"><p>Next class: A better distance metric for text data.</p></li>
</ul>
</section></section>
<section>
<section id="takeaways" class="title-slide slide level1 center">
<h1>Takeaways</h1>

</section>
<section id="takeaways-1" class="slide level2">
<h2>Takeaways</h2>
<ul>
<li class="fragment"><p>We <strong>dummify</strong> or <strong>one-hot-encode</strong> categorical variables to make them numbers.</p></li>
<li class="fragment"><p>We can do this with <code>pd.get_dummies()</code> or with <code>OneHotEncoder()</code></p></li>
<li class="fragment"><p><strong>Column Transformers</strong> let us apply multiple preprocessing steps all together.</p>
<ul>
<li class="fragment">Think about <em>which variables</em> you want to apply the steps to</li>
<li class="fragment">Think about <em>options</em> for the steps, like sparseness</li>
<li class="fragment">Think about <code>passthrough</code> in your transformer</li>
</ul></li>
<li class="fragment"><p>We represent text data with <strong>bag-of-words</strong> matrices.</p></li>
</ul>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="06-text_data_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="06-text_data_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="06-text_data_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="06-text_data_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="06-text_data_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="06-text_data_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="06-text_data_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="06-text_data_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="06-text_data_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="06-text_data_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>