<!DOCTYPE html>
<html lang="en"><head>
<script src="13-kmeans_files/libs/clipboard/clipboard.min.js"></script>
<script src="13-kmeans_files/libs/quarto-html/tabby.min.js"></script>
<script src="13-kmeans_files/libs/quarto-html/popper.min.js"></script>
<script src="13-kmeans_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="13-kmeans_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="13-kmeans_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="13-kmeans_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="13-kmeans_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>Unsupervised Learning with K-Means</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="13-kmeans_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="13-kmeans_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="13-kmeans_files/libs/revealjs/dist/theme/quarto.css">
  <link href="13-kmeans_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="13-kmeans_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="13-kmeans_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="13-kmeans_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Unsupervised Learning with K-Means</h1>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="the-story-so-far" class="title-slide slide level1 center">
<h1>The story so far</h1>

</section>
<section id="predictive-modeling" class="slide level2">
<h2>Predictive modeling</h2>
<ul>
<li class="fragment"><p>In <strong>predictive modeling</strong>, a.k.a. <strong>supervised machine learning</strong>, we have a <strong>target variable</strong> we want to predict.</p></li>
<li class="fragment"><p>We expect to have observations where we know the <em>predictors</em> but not the <em>target</em>.</p></li>
<li class="fragment"><p>Our goal is to choose a <strong>modeling procedure</strong> to guess targets from predictors.</p></li>
<li class="fragment"><p>We use <strong>cross-validation</strong> to estimate the <strong>test error</strong> of various procedure options.</p></li>
<li class="fragment"><p>We might compare different:</p>
<ul>
<li class="fragment">feature sets</li>
<li class="fragment">preprocessing choices</li>
<li class="fragment">model specifications/algorithms</li>
<li class="fragment">tuning parameters</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="unsupervised-learning" class="title-slide slide level1 center">
<h1>Unsupervised Learning</h1>

</section>
<section id="unsupervised-learning-1" class="slide level2">
<h2>Unsupervised Learning</h2>
<ul>
<li class="fragment"><p>In <strong>unsupervised</strong> situations, we do not have a target variable <span class="math inline">\(y\)</span></p></li>
<li class="fragment"><p>We <em>do</em> still have <strong>features</strong> that we observe.</p></li>
<li class="fragment"><p>Our goal: Automatically find <em>interesting structure</em> in the features.</p></li>
<li class="fragment"><p>(Think of children playing with Legos. They might be <em>supervised</em> by parents who help them follow instructions, or they might be left alone to build whatever they want!)</p></li>
</ul>
</section>
<section id="clustering" class="slide level2">
<h2>Clustering</h2>
<ul>
<li class="fragment"><p>Nearly all unsupervised learning algorithms can be called <strong>clustering</strong>.</p></li>
<li class="fragment"><p>The goal is to use the <strong>observed features</strong> (columns) to sort the <strong>observations</strong> (rows) into similar <strong>clusters</strong> (groups).</p></li>
<li class="fragment"><p>For example: Suppose I take all of your grades in the gradebook as <em>features</em> and then use these to find <em>clusters</em> of students. These clusters might represent…</p>
<ul>
<li class="fragment">people who studied together</li>
<li class="fragment">people who are in the same section</li>
<li class="fragment">people who have the same major or background</li>
<li class="fragment">… or none of the above!</li>
</ul></li>
</ul>
</section>
<section id="uses-of-clustering" class="slide level2">
<h2>Uses of clustering</h2>
<ul>
<li class="fragment"><p><strong>Ecology:</strong> An ecologist wants to group organisms into types to define different species. <em>(rows = organisms; features = habitat, size, etc.)</em></p></li>
<li class="fragment"><p><strong>Biology:</strong> A geneticist wants to know which groups of genes tend to be activated at the same time. <em>(rows = genes; features = activation at certain times)</em></p></li>
<li class="fragment"><p><strong>Market Segmentation:</strong> A business wants to group their customers into types. <em>(rows = customers, features = age, location, etc.)</em></p></li>
<li class="fragment"><p><strong>Language:</strong> A linguist might want to identify different uses of ambiguous words like “set” or “run”. <em>(rows = words; features = other words they are used with)</em></p></li>
<li class="fragment"><p><strong>Documents:</strong> A historian might want to find groups of articles that are on similar topics. <em>(rows = articles; features = tf-idf transformed n-grams)</em></p></li>
</ul>
</section></section>
<section>
<section id="k-means" class="title-slide slide level1 center">
<h1>K-Means</h1>

</section>
<section id="the-k-means-algorithm" class="slide level2">
<h2>The K-Means Algorithm</h2>
<ul>
<li class="fragment"><p><strong>Idea:</strong> Two observations are <em>similar</em> if they are <em>close</em> in distance.</p></li>
<li class="fragment"><p>(Just like with K-Nearest-Neighbors!)</p></li>
<li class="fragment"><p>We should look for groups of observations that are close to the same <strong>centroid</strong>.</p></li>
</ul>
</section>
<section id="the-k-means-algorithm-1" class="slide level2">
<h2>The K-Means Algorithm</h2>
<p><a href="https://www.naftaliharris.com/blog/visualizing-k-means-clustering/">Demo</a></p>
<p>Procedure (3-means):</p>
<ol type="1">
<li class="fragment"><p>Choose 3 random observations to be the <strong>initial centroids</strong>.</p></li>
<li class="fragment"><p>For each observation, determine which is the <strong>closest centroid</strong>.</p></li>
<li class="fragment"><p>Create 3 <strong>clusters</strong> by closest centroid.</p></li>
<li class="fragment"><p>Find the <strong>new centroid</strong> of each cluster.</p></li>
<li class="fragment"><p>Repeat until the clusters don’t change.</p></li>
</ol>
</section>
<section id="example-penguins-data" class="slide level2">
<h2>Example: Penguins data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>data_dir <span class="op">=</span> <span class="st">"https://dlsun.github.io/stats112/data/"</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>df_penguins <span class="op">=</span> pd.read_csv(data_dir <span class="op">+</span> <span class="st">"penguins.csv"</span>).dropna()</span>
<span id="cb1-6"><a href="#cb1-6"></a>df_penguins</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       species     island  bill_length_mm  ...  body_mass_g     sex  year
0       Adelie  Torgersen            39.1  ...       3750.0    male  2007
1       Adelie  Torgersen            39.5  ...       3800.0  female  2007
2       Adelie  Torgersen            40.3  ...       3250.0  female  2007
4       Adelie  Torgersen            36.7  ...       3450.0  female  2007
5       Adelie  Torgersen            39.3  ...       3650.0    male  2007
..         ...        ...             ...  ...          ...     ...   ...
339  Chinstrap      Dream            55.8  ...       4000.0    male  2009
340  Chinstrap      Dream            43.5  ...       3400.0  female  2009
341  Chinstrap      Dream            49.6  ...       3775.0    male  2009
342  Chinstrap      Dream            50.8  ...       4100.0    male  2009
343  Chinstrap      Dream            50.2  ...       3775.0  female  2009

[333 rows x 8 columns]</code></pre>
</div>
</div>
</section>
<section id="example-penguins-data-1" class="slide level2">
<h2>Example: Penguins data</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>(ggplot(df_penguins, aes(x <span class="op">=</span> <span class="st">"bill_length_mm"</span>, y <span class="op">=</span> <span class="st">"flipper_length_mm"</span>))</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="op">+</span> geom_point())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>

</div>
<img data-src="13-kmeans_files/figure-revealjs/unnamed-chunk-5-1.png" width="614" class="r-stretch"></section>
<section id="step-0-standardize-the-data" class="slide level2">
<h2>Step 0: Standardize the data</h2>
<p><strong>Why is this important?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb5-2"><a href="#cb5-2"></a>scaler <span class="op">=</span> StandardScaler().set_output(transform <span class="op">=</span> <span class="st">"pandas"</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a>df_scaled <span class="op">=</span> scaler.fit_transform(df_penguins[[<span class="st">"bill_length_mm"</span>, <span class="st">"flipper_length_mm"</span>]]).dropna()</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>df_scaled.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   bill_length_mm  flipper_length_mm
0       -0.896042          -1.426752
1       -0.822788          -1.069474
2       -0.676280          -0.426373
4       -1.335566          -0.569284
5       -0.859415          -0.783651</code></pre>
</div>
</div>
</section>
<section id="step-1-choose-3-random-points-to-be-centroids" class="slide level2">
<h2>Step 1: Choose 3 random points to be centroids</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>centroids <span class="op">=</span> df_scaled.sample(<span class="dv">3</span>, random_state<span class="op">=</span><span class="dv">1234</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>centroids.index <span class="op">=</span> [<span class="st">"orange"</span>, <span class="st">"purple"</span>, <span class="st">"green"</span>]</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a>centroids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        bill_length_mm  flipper_length_mm
orange        1.100130           1.217106
purple        1.503027          -0.283462
green         0.257709          -0.926562</code></pre>
</div>
</div>
</section>
<section id="step-1-choose-3-random-points-to-be-centroids-1" class="slide level2">
<h2>Step 1: Choose 3 random points to be centroids</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>(ggplot(df_scaled, aes(x <span class="op">=</span> <span class="st">"bill_length_mm"</span>, y <span class="op">=</span> <span class="st">"flipper_length_mm"</span>))</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="op">+</span> geom_point()</span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="op">+</span> geom_point(centroids, color <span class="op">=</span> centroids.index, size <span class="op">=</span> <span class="dv">3</span>)</span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="op">+</span> theme_classic())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>

</div>
<img data-src="13-kmeans_files/figure-revealjs/unnamed-chunk-8-3.png" width="614" class="r-stretch"></section>
<section id="step-2-assign-each-point-to-nearest-centroid" class="slide level2">
<h2>Step 2: Assign each point to nearest centroid</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> pairwise_distances</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a>dists <span class="op">=</span> pairwise_distances(df_scaled, centroids)</span>
<span id="cb11-4"><a href="#cb11-4"></a>dists</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([[3.31280601, 2.65756361, 1.25750955],
       [2.98765095, 2.45504189, 1.08990689],
       [2.42005271, 2.18398796, 1.05949247],
       [3.02056375, 2.85294705, 1.63284194],
       [2.80050792, 2.41481315, 1.12622791],
       [3.33500418, 2.69067414, 1.29119662],
       [2.57156512, 2.3850412 , 1.2407285 ],
       [3.04529641, 2.29806449, 0.89662613],
       [2.84268531, 2.5272681 , 1.26363405],
       [3.16169885, 3.22396898, 2.10297765],
       [3.40330601, 2.98281193, 1.62578308],
       [2.64264016, 2.47645028, 1.3250397 ],
       [2.03426664, 1.77641006, 0.83404824],
       [3.75024537, 3.38957517, 2.03466135],
       [1.86483646, 1.15549605, 0.44259048],
       [3.85705717, 3.10733894, 1.71404134],
       [3.52802426, 2.92011383, 1.52160193],
       [3.31086743, 3.03934341, 1.74124982],
       [3.19847175, 2.70347666, 1.3358841 ],
       [3.40293789, 2.73820558, 1.33705371],
       [3.48627248, 3.17639839, 1.85104379],
       [3.03614689, 2.34812492, 0.94888009],
       [2.81666778, 2.25868736, 0.90020224],
       [3.96414607, 3.17008936, 1.78707829],
       [3.22486717, 2.46306398, 1.06397177],
       [3.44485965, 2.69307395, 1.29540097],
       [3.6965367 , 3.06420983, 1.66304407],
       [2.87974414, 2.41308819, 1.08049684],
       [2.94614023, 2.26835229, 0.87226604],
       [2.98400637, 2.89706094, 1.72244118],
       [2.5264959 , 2.38182784, 1.27121822],
       [2.86532557, 2.50446665, 1.2171107 ],
       [3.06812687, 2.19760114, 0.81866445],
       [3.48523349, 2.90794892, 1.51349545],
       [3.06459843, 2.45352185, 1.06464088],
       [3.56786099, 3.06850459, 1.68534657],
       [2.35366029, 2.09262526, 0.97972589],
       [3.43540103, 3.06914399, 1.72739138],
       [1.9075456 , 1.48511399, 0.61923965],
       [3.3508694 , 2.91272609, 1.55319867],
       [2.76234434, 2.36109158, 1.07175419],
       [3.04529641, 2.29806449, 0.89662613],
       [3.25216292, 3.00865748, 1.72739138],
       [2.38970659, 1.86303943, 0.60684234],
       [2.97589698, 2.43769941, 1.07175419],
       [2.80756401, 2.307367  , 0.97061581],
       [3.39840825, 3.18938929, 1.90995871],
       [1.94955717, 1.88023759, 1.05969544],
       [3.60060894, 3.31931484, 1.99745064],
       [2.49052337, 2.02379278, 0.76326163],
       [3.04739176, 2.54195862, 1.18074489],
       [2.48085599, 2.14350838, 0.94888009],
       [3.61971862, 3.09418865, 1.70492516],
       [2.84567598, 2.68235139, 1.49140596],
       [3.52400416, 3.14103371, 1.78929758],
       [2.28900582, 2.00128128, 0.90220317],
       [3.27371346, 2.80790061, 1.44444881],
       [2.47147136, 2.06395734, 0.8377472 ],
       [3.47932391, 3.03898602, 1.67281464],
       [2.41206614, 1.97383579, 0.75232284],
       [3.12289631, 3.06169263, 1.88076916],
       [2.69293387, 2.13210001, 0.78748075],
       [3.26662007, 3.02671766, 1.74564276],
       [2.07303795, 1.90594454, 0.97223894],
       [3.62406821, 3.46096079, 2.18398796],
       [2.74974938, 2.34319695, 1.05360706],
       [2.4695699 , 2.30860783, 1.20623845],
       [1.68621507, 1.17206437, 0.64725903],
       [3.3248288 , 3.09898812, 1.81866078],
       [2.10704904, 1.72739138, 0.69058608],
       [2.54941599, 2.11337102, 0.85153198],
       [3.37599805, 2.89983596, 1.52866601],
       [3.36063009, 3.01602939, 1.6863571 ],
       [2.18955636, 1.85517676, 0.78448896],
       [3.49972037, 3.27347641, 1.97914897],
       [2.04008089, 1.70465433, 0.7323886 ],
       [3.29232268, 2.92714924, 1.59487653],
       [3.26145063, 3.14462596, 1.91982855],
       [3.02185695, 2.76218819, 1.49880312],
       [2.34083854, 2.00764944, 0.86463508],
       [3.20902775, 2.95449566, 1.67264539],
       [3.17010998, 2.85968414, 1.55828716],
       [2.98079559, 2.60897328, 1.30222085],
       [2.85224471, 2.48652479, 1.19892581],
       [2.8575144 , 3.04277676, 2.03872254],
       [1.87602721, 2.1116463 , 1.44766424],
       [3.76113957, 3.4415877 , 2.09871627],
       [2.97589698, 2.43769941, 1.07175419],
       [3.36063009, 3.01602939, 1.6863571 ],
       [1.83010508, 2.23080055, 1.65892573],
       [2.95844678, 2.6302031 , 1.34450272],
       [2.37210655, 2.18047832, 1.0950401 ],
       [4.21288031, 3.7521184 , 2.36318054],
       [2.23660636, 1.68649398, 0.49398435],
       [3.31628424, 3.17012025, 1.92593175],
       [1.96607285, 2.09544162, 1.34094461],
       [3.36582272, 2.83764266, 1.45469661],
       [2.99914827, 2.68416133, 1.39914418],
       [2.84632279, 2.63438265, 1.41921997],
       [3.07579541, 2.47048178, 1.08229324],
       [2.49035895, 2.49473349, 1.47262762],
       [2.94498238, 2.61222612, 1.3262944 ],
       [3.42627499, 2.8239848 , 1.42739384],
       [1.95000536, 1.64821552, 0.75888352],
       [2.60609685, 2.58319279, 1.51586748],
       [2.09081499, 1.28247703, 0.21747336],
       [2.59793825, 2.30696275, 1.10331853],
       [2.07175825, 1.83135058, 0.87006426],
       [2.711037  , 2.34699312, 1.08359889],
       [2.06361837, 1.74124982, 0.75582607],
       [2.99231835, 2.57232379, 1.24531839],
       [2.69307395, 2.73245215, 1.67877094],
       [3.33951217, 3.07532447, 1.77784662],
       [2.63640751, 2.1116463 , 0.79071602],
       [3.36063009, 3.01602939, 1.6863571 ],
       [2.66765684, 2.65641956, 1.58084943],
       [3.49683352, 2.66105988, 1.28145606],
       [1.94617953, 2.00986872, 1.23990809],
       [3.54608321, 3.21098522, 1.87343638],
       [2.19241606, 2.12916823, 1.17921163],
       [2.81589524, 2.49117973, 1.22755365],
       [2.26366415, 1.96474952, 0.87195702],
       [2.78932882, 2.45510731, 1.19150661],
       [1.22239567, 1.75024432, 1.58994868],
       [2.90490748, 2.55832382, 1.27168753],
       [1.96175141, 1.66652902, 0.76876297],
       [3.00581577, 2.83472628, 1.61497717],
       [2.66150587, 2.69587595, 1.64649592],
       [3.10743497, 2.67924791, 1.33879418],
       [2.58062166, 2.09343296, 0.80034339],
       [3.26752747, 3.07012501, 1.80748051],
       [2.20801836, 2.20805114, 1.28145606],
       [3.3508694 , 2.91272609, 1.55319867],
       [2.59793825, 2.30696275, 1.10331853],
       [2.53223651, 2.21612977, 1.01711712],
       [2.80539296, 2.24132193, 0.88194772],
       [3.91680569, 3.7367696 , 2.43569627],
       [2.62750224, 2.16463603, 0.87251817],
       [2.97674429, 2.75200267, 1.51067935],
       [3.10136747, 2.56495407, 1.19150661],
       [2.8133525 , 2.43273245, 1.14439574],
       [3.45319957, 3.00413291, 1.63673821],
       [3.04541598, 2.97022798, 1.79266467],
       [2.86060341, 2.65258879, 1.43695108],
       [3.38826038, 3.05162594, 1.72295191],
       [1.97452748, 1.98028066, 1.17175822],
       [0.87195702, 1.49957414, 1.64847089],
       [0.85746718, 2.39220691, 3.11712778],
       [0.61923965, 1.12860247, 1.68418839],
       [0.        , 1.55371461, 2.30325549],
       [0.4890139 , 1.53752593, 1.97092086],
       [0.85885026, 1.39734095, 1.58487802],
       [0.97972589, 1.59736495, 1.64347876],
       [0.60855535, 1.86702836, 2.22788067],
       [1.38532274, 1.8416923 , 1.54906668],
       [0.62400869, 1.62243446, 1.94626265],
       [1.69086174, 2.39961047, 2.03242311],
       [0.23229735, 1.47873748, 2.10658156],
       [0.87226604, 1.72659978, 1.85793581],
       [0.46206709, 1.33843425, 1.86896632],
       [0.9583298 , 1.4955375 , 1.573729  ],
       [0.14676424, 1.52460466, 2.19184484],
       [1.57265334, 2.08620176, 1.69084632],
       [0.25964924, 1.80079035, 2.45858151],
       [0.94756177, 1.39378411, 1.50770276],
       [0.37198712, 1.89790281, 2.50352891],
       [0.03662701, 1.5446219 , 2.3169027 ],
       [0.92261113, 1.82893019, 1.93008326],
       [0.73382121, 1.54815221, 1.7977126 ],
       [0.7107    , 1.6798172 , 1.93632876],
       [1.3178112 , 2.13425699, 1.9828813 ],
       [0.74570298, 1.70360738, 1.93355547],
       [0.45637618, 1.51776704, 1.97873303],
       [0.65988055, 1.18301002, 1.65354113],
       [0.1429112 , 1.69214317, 2.43682534],
       [0.57113023, 1.99911161, 2.45428138],
       [1.46704169, 1.92320237, 1.57430077],
       [1.19292597, 1.48366556, 1.35876755],
       [1.95605558, 2.71972302, 3.9710836 ],
       [0.21815076, 1.73877167, 2.38486594],
       [0.32600926, 1.78474582, 2.35165691],
       [1.40150385, 2.09714437, 1.85852912],
       [1.02804264, 2.12408476, 2.22268098],
       [1.31071523, 1.69497479, 1.4519285 ],
       [0.75317344, 1.01422887, 1.55164259],
       [1.51586748, 1.90909907, 1.51223553],
       [0.50552485, 2.05663499, 2.75347031],
       [1.03326768, 1.56833131, 1.57212983],
       [0.16059191, 1.43873233, 2.14351249],
       [0.30013173, 1.81331607, 2.6028366 ],
       [1.17424051, 2.12670278, 2.098268  ],
       [1.00296129, 1.5389732 , 1.57212983],
       [0.50850156, 2.02483424, 2.8039821 ],
       [0.99999131, 1.75908357, 1.78873522],
       [0.90480882, 1.81595606, 1.92964879],
       [0.84527051, 1.38371359, 1.58730973],
       [0.30965323, 1.77768495, 2.35600269],
       [1.06397177, 1.5979896 , 1.57298292],
       [0.50052433, 2.03738365, 2.78043969],
       [0.64494334, 1.76975287, 2.08198115],
       [0.9267604 , 2.10704904, 2.28775224],
       [1.34156932, 1.72750895, 1.45884181],
       [0.83640732, 2.05099084, 2.28665248],
       [1.43576048, 1.82604178, 1.48481888],
       [0.43494671, 1.9572602 , 2.73051476],
       [1.11868431, 1.48814642, 1.4292293 ],
       [0.72818152, 2.03675821, 2.36258173],
       [0.8377472 , 1.70076609, 1.85865773],
       [1.2177945 , 2.45974142, 3.47813086],
       [0.77247922, 1.96086504, 2.21633446],
       [0.85824909, 2.39864739, 3.10742923],
       [0.79132725, 2.33943144, 3.02436827],
       [1.19892581, 2.28900582, 2.3129025 ],
       [0.37958056, 1.87804462, 2.68268999],
       [0.44479434, 1.58820163, 2.04461389],
       [0.69326144, 2.01723407, 2.36513557],
       [0.39321457, 1.86483646, 2.4131451 ],
       [0.64494334, 1.76975287, 2.08198115],
       [0.67459759, 1.72379356, 2.00912071],
       [0.89497783, 2.44846608, 3.05781715],
       [0.789426  , 1.21495445, 1.54906668],
       [0.24699217, 1.65577895, 2.51358477],
       [0.90480882, 1.81595606, 1.92964879],
       [0.94888009, 2.25720493, 2.50121413],
       [0.45932411, 1.21290254, 1.84394718],
       [0.50553776, 1.71581418, 2.69276829],
       [0.64072803, 1.38620126, 1.7536116 ],
       [0.42873359, 1.97092086, 2.706829  ],
       [1.0276904 , 1.71350285, 1.7173772 ],
       [0.72942091, 2.22991203, 3.02447106],
       [1.20869138, 2.20202646, 2.17473356],
       [0.23807557, 1.50959238, 2.40058028],
       [0.62723823, 1.37466083, 1.75752792],
       [0.93976301, 2.35810585, 3.2422759 ],
       [0.45783764, 1.72990386, 2.17789275],
       [0.82031478, 2.21512354, 3.11773346],
       [0.92895968, 1.62922345, 1.71503214],
       [0.4384029 , 1.99165715, 2.67974457],
       [1.04701124, 1.86120941, 1.86514242],
       [0.59012064, 2.08801326, 2.88979314],
       [0.1802705 , 1.45126574, 2.13064374],
       [0.63560911, 2.03304798, 2.44497133],
       [1.11116448, 0.81737855, 1.20443933],
       [0.53923163, 2.01087272, 2.84247159],
       [0.28384399, 1.71184058, 2.28671747],
       [1.29540097, 2.31644419, 3.44485965],
       [0.55578284, 1.578852  , 1.9572602 ],
       [0.73331875, 2.28671747, 2.93744538],
       [0.62400869, 1.62243446, 1.94626265],
       [1.6239586 , 2.13553543, 1.71184058],
       [0.62674586, 1.58730973, 2.65579236],
       [1.41990536, 1.80952888, 1.47995458],
       [0.73119895, 1.13975054, 1.57993617],
       [0.16972985, 1.39289516, 2.20802233],
       [0.7868645 , 2.32843845, 3.03847437],
       [1.2428383 , 1.96102939, 1.81996233],
       [0.90039518, 2.36151681, 3.20230819],
       [0.69957209, 1.80270496, 2.07738504],
       [1.26790576, 2.41710285, 3.48746967],
       [0.36054099, 1.89179638, 2.50801271],
       [0.58705697, 1.52120579, 1.88686371],
       [0.62400869, 1.62243446, 1.94626265],
       [0.29506032, 1.81654993, 2.59632134],
       [0.97802779, 1.67099135, 1.71532544],
       [0.35774704, 1.21841267, 1.96731865],
       [1.96530814, 1.10331853, 0.3496798 ],
       [1.57202316, 0.40918455, 1.01806255],
       [1.80218452, 0.32994027, 1.13803382],
       [2.30325549, 1.40156912, 0.        ],
       [1.57993617, 0.09156753, 1.48352353],
       [1.67782206, 1.28393532, 0.71549409],
       [2.94610995, 1.75817988, 0.72596425],
       [1.51933636, 0.16482155, 1.25739871],
       [1.79934366, 1.14439574, 0.51211626],
       [1.44880674, 0.17964422, 1.29540097],
       [1.89179638, 1.06464088, 0.41945552],
       [1.7429647 , 0.23310456, 1.23083449],
       [2.42119265, 1.28145606, 0.36305861],
       [1.26876303, 0.28815964, 1.52441214],
       [2.13700933, 1.25750955, 0.16972985],
       [1.21819146, 0.42263525, 1.31728227],
       [1.501573  , 0.34795661, 1.10400918],
       [3.02265467, 1.56055903, 2.36109158],
       [2.10658156, 1.17406246, 0.23229735],
       [1.64999607, 0.56768799, 0.85702067],
       [2.98783556, 2.12794354, 0.74299076],
       [1.94875972, 0.80184404, 0.60684234],
       [2.5411789 , 1.79644222, 0.40918455],
       [1.78976616, 0.40933222, 1.01711712],
       [1.75107285, 1.01733067, 0.55395776],
       [1.5446219 , 0.03662701, 1.36912854],
       [1.2894561 , 0.37799371, 1.26790576],
       [1.2894561 , 0.53893267, 1.13975054],
       [2.03883821, 1.14544573, 0.2819425 ],
       [1.06105559, 0.58210961, 1.81993717],
       [2.77201935, 2.18931835, 0.8271998 ],
       [1.43778443, 0.4645947 , 1.86013845],
       [2.60639791, 1.91473835, 0.5358771 ],
       [1.08736678, 0.48177573, 1.48343987],
       [1.64439681, 0.47962373, 0.93290683],
       [1.43277567, 0.87251817, 0.87505358],
       [1.70123599, 0.85445725, 0.64227355],
       [0.6789194 , 0.92964459, 1.98297546],
       [1.94265143, 1.03428362, 0.396429  ],
       [1.12860247, 0.61923965, 1.91730631],
       [0.60026345, 1.09833112, 1.70467449],
       [2.32186725, 1.31071523, 0.16300463],
       [1.58064005, 0.24856766, 1.15815191],
       [1.77493955, 1.22908376, 0.57193806],
       [1.58064005, 0.24856766, 1.15815191],
       [1.2235483 , 0.38396588, 1.35678985],
       [2.00084056, 0.63094674, 0.87251817],
       [0.46620912, 1.22158167, 1.83729642],
       [2.2320918 , 0.72596425, 1.11940681],
       [1.42958125, 0.4452947 , 1.07698404],
       [1.40153652, 0.76433301, 0.92860621],
       [1.24150763, 0.32118382, 1.43884735],
       [1.95225895, 1.22421155, 0.36147756],
       [1.07947297, 0.50918955, 1.44600246],
       [2.60639791, 1.91473835, 0.5358771 ],
       [1.55371461, 0.        , 1.40156912],
       [2.12012471, 1.35173833, 0.21747336],
       [1.07947297, 0.68254732, 1.28800151],
       [1.14387612, 0.51166528, 1.33172173],
       [1.89480981, 1.22755365, 0.43029528],
       [0.92537763, 0.64544292, 1.75251588],
       [2.15348502, 1.14226045, 0.26616022],
       [1.82240181, 1.19892581, 0.50319746],
       [1.32138096, 0.97223894, 2.33896333],
       [1.65048797, 1.63284194, 1.05916509],
       [1.78789128, 0.55535066, 0.8480954 ],
       [0.59012064, 0.963656  , 1.85721243],
       [1.42958125, 0.37317516, 1.13283543]])</code></pre>
</div>
</div>
</section>
<section id="step-2-assign-each-point-to-nearest-centroid-1" class="slide level2">
<h2>Step 2: Assign each point to nearest centroid</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>closest_centroid <span class="op">=</span> dists.argsort()[:,<span class="dv">0</span>]</span>
<span id="cb13-2"><a href="#cb13-2"></a>closest_centroid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 2, 1, 1, 2, 1, 2, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 1, 1, 2, 1, 2,
       2, 2, 1, 2, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 2, 0, 2, 1, 0, 2, 1,
       2, 1, 1, 1, 0, 1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 2, 1, 2, 2, 1, 2,
       1, 0, 1])</code></pre>
</div>
</div>
</section>
<section id="step-2-assign-each-point-to-nearest-centroid-2" class="slide level2">
<h2>Step 2: Assign each point to nearest centroid</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>df_scaled.index <span class="op">=</span> centroids.index[closest_centroid]</span>
<span id="cb15-2"><a href="#cb15-2"></a>df_scaled.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       bill_length_mm  flipper_length_mm
green       -0.896042          -1.426752
green       -0.822788          -1.069474
green       -0.676280          -0.426373
green       -1.335566          -0.569284
green       -0.859415          -0.783651</code></pre>
</div>
</div>
</section>
<section id="step-2-assign-each-point-to-nearest-centroid-3" class="slide level2">
<h2>Step 2: Assign each point to nearest centroid</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>(ggplot(df_scaled, aes(x <span class="op">=</span> <span class="st">"bill_length_mm"</span>, y <span class="op">=</span> <span class="st">"flipper_length_mm"</span>))</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="op">+</span> geom_point(color <span class="op">=</span> df_scaled.index)</span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="op">+</span> geom_point(centroids, color <span class="op">=</span> centroids.index, size <span class="op">=</span> <span class="dv">3</span>)</span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="op">+</span> theme_classic())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>

</div>
<img data-src="13-kmeans_files/figure-revealjs/unnamed-chunk-12-5.png" width="614" class="r-stretch"></section>
<section id="step-3-find-new-centroids" class="slide level2">
<h2>Step 3: Find new centroids</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a>centroids <span class="op">=</span> df_scaled.groupby(df_scaled.index).mean()</span>
<span id="cb19-2"><a href="#cb19-2"></a>centroids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        bill_length_mm  flipper_length_mm
green        -0.758955          -0.770434
orange        0.671414           1.156193
purple        1.299651          -0.204485</code></pre>
</div>
</div>
</section>
<section id="step-3-find-new-centroids-1" class="slide level2">
<h2>Step 3: Find new centroids</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>(ggplot(df_scaled, aes(x <span class="op">=</span> <span class="st">"bill_length_mm"</span>, y <span class="op">=</span> <span class="st">"flipper_length_mm"</span>))</span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="op">+</span> geom_point(color <span class="op">=</span> df_scaled.index)</span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="op">+</span> geom_point(centroids, color <span class="op">=</span> centroids.index, size <span class="op">=</span> <span class="dv">3</span>)</span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="op">+</span> theme_classic())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>

</div>
<img data-src="13-kmeans_files/figure-revealjs/unnamed-chunk-14-7.png" width="614" class="r-stretch"></section>
<section id="step-4-repeat-over-and-over" class="slide level2">
<h2>Step 4: Repeat over and over!</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">3</span>):</span>
<span id="cb23-2"><a href="#cb23-2"></a>  dists <span class="op">=</span> pairwise_distances(df_scaled, centroids)</span>
<span id="cb23-3"><a href="#cb23-3"></a>  df_scaled.index <span class="op">=</span> centroids.index[closest_centroid]</span>
<span id="cb23-4"><a href="#cb23-4"></a>  centroids <span class="op">=</span> df_scaled.groupby(df_scaled.index).mean()</span>
<span id="cb23-5"><a href="#cb23-5"></a>  <span class="bu">print</span>(centroids)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        bill_length_mm  flipper_length_mm
green         0.671414           1.156193
orange        1.299651          -0.204485
purple       -0.758955          -0.770434
        bill_length_mm  flipper_length_mm
green         0.671414           1.156193
orange        1.299651          -0.204485
purple       -0.758955          -0.770434</code></pre>
</div>
</div>
</section>
<section id="k-means-in-sklearn" class="slide level2">
<h2>K-means in sklearn</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a><span class="im">from</span> sklearn.pipeline <span class="im">import</span> make_pipeline</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="im">from</span> sklearn.cluster <span class="im">import</span> KMeans</span>
<span id="cb25-4"><a href="#cb25-4"></a></span>
<span id="cb25-5"><a href="#cb25-5"></a>model <span class="op">=</span> KMeans(n_clusters<span class="op">=</span><span class="dv">3</span>, random_state<span class="op">=</span><span class="dv">1234</span>)</span>
<span id="cb25-6"><a href="#cb25-6"></a></span>
<span id="cb25-7"><a href="#cb25-7"></a>pipeline <span class="op">=</span> make_pipeline(</span>
<span id="cb25-8"><a href="#cb25-8"></a>    StandardScaler(),</span>
<span id="cb25-9"><a href="#cb25-9"></a>    model</span>
<span id="cb25-10"><a href="#cb25-10"></a>)</span>
<span id="cb25-11"><a href="#cb25-11"></a></span>
<span id="cb25-12"><a href="#cb25-12"></a>pipeline.fit(df_penguins[[<span class="st">"bill_length_mm"</span>, <span class="st">"flipper_length_mm"</span>]].dropna())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<style>#sk-container-id-1 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: black;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-1 {
  color: var(--sklearn-color-text);
}

#sk-container-id-1 pre {
  padding: 0;
}

#sk-container-id-1 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-1 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-1 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-1 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-1 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-1 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-1 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-1 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-1 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-1 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-1 label.sk-toggleable__label {
  cursor: pointer;
  display: block;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
}

#sk-container-id-1 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-1 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-1 div.sk-label label.sk-toggleable__label,
#sk-container-id-1 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-1 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-1 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-1 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-1 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 1ex;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-1 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-1 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-1 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-1 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>Pipeline(steps=[('standardscaler', StandardScaler()),
                ('kmeans', KMeans(n_clusters=3, random_state=1234))])</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox"><label for="sk-estimator-id-1" class="sk-toggleable__label fitted sk-toggleable__label-arrow fitted">&nbsp;&nbsp;Pipeline<a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.4/modules/generated/sklearn.pipeline.Pipeline.html">?<span>Documentation for Pipeline</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></label><div class="sk-toggleable__content fitted"><pre>Pipeline(steps=[('standardscaler', StandardScaler()),
                ('kmeans', KMeans(n_clusters=3, random_state=1234))])</pre></div> </div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-2" type="checkbox"><label for="sk-estimator-id-2" class="sk-toggleable__label fitted sk-toggleable__label-arrow fitted">&nbsp;StandardScaler<a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.4/modules/generated/sklearn.preprocessing.StandardScaler.html">?<span>Documentation for StandardScaler</span></a></label><div class="sk-toggleable__content fitted"><pre>StandardScaler()</pre></div> </div></div><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-3" type="checkbox"><label for="sk-estimator-id-3" class="sk-toggleable__label fitted sk-toggleable__label-arrow fitted">&nbsp;KMeans<a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.4/modules/generated/sklearn.cluster.KMeans.html">?<span>Documentation for KMeans</span></a></label><div class="sk-toggleable__content fitted"><pre>KMeans(n_clusters=3, random_state=1234)</pre></div> </div></div></div></div></div></div>
</div>
</div>
</section>
<section id="k-means-in-sklearn-1" class="slide level2">
<h2>K-means in sklearn</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>centroids <span class="op">=</span> model.cluster_centers_</span>
<span id="cb26-2"><a href="#cb26-2"></a>clusters <span class="op">=</span> model.labels_</span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a>clusters</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2,
       0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0,
       0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 1, 0], dtype=int32)</code></pre>
</div>
</div>
</section>
<section id="interpreting-k-means" class="slide level2">
<h2>Interpreting K-Means</h2>
<p>The key takeaway here is the <strong>cluster centers</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a>centroids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([[ 0.9235766 , -0.37501448],
       [ 0.66403058,  1.15087842],
       [-0.96427851, -0.80518575]])</code></pre>
</div>
</div>
<ul>
<li class="fragment"><p>Cluster 1 has long bill, shortish flipper</p></li>
<li class="fragment"><p>Cluster 2 has longish bill, long flipper</p></li>
<li class="fragment"><p>Cluster 3 has short bill, short flipper</p></li>
</ul>
</section>
<section id="interpreting-k-means-1" class="slide level2">
<h2>Interpreting K-Means</h2>
<p>We also might check if these clusters match any labels that we already know:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>results <span class="op">=</span> pd.DataFrame({</span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="st">"cluster"</span>: clusters,</span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="st">"species"</span>: df_penguins[<span class="st">'species'</span>]</span>
<span id="cb30-4"><a href="#cb30-4"></a>})</span>
<span id="cb30-5"><a href="#cb30-5"></a></span>
<span id="cb30-6"><a href="#cb30-6"></a>results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     cluster    species
0          2     Adelie
1          2     Adelie
2          2     Adelie
4          2     Adelie
5          2     Adelie
..       ...        ...
339        0  Chinstrap
340        0  Chinstrap
341        0  Chinstrap
342        1  Chinstrap
343        0  Chinstrap

[333 rows x 2 columns]</code></pre>
</div>
</div>
</section>
<section id="interpreting-k-means-2" class="slide level2">
<h2>Interpreting K-Means</h2>
<p>We also might check if these clusters match any labels that we already know:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>results.value_counts([<span class="st">"cluster"</span>, <span class="st">"species"</span>]).unstack()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>species  Adelie  Chinstrap  Gentoo
cluster                           
0           4.0       59.0     1.0
1           1.0        4.0   118.0
2         141.0        5.0     NaN</code></pre>
</div>
</div>
</section></section>
<section>
<section id="your-turn" class="title-slide slide level1 center">
<h1>Your Turn</h1>

</section>
<section id="activity" class="slide level2">
<h2>Activity</h2>
<ul>
<li class="fragment"><p>Fit a 3-means model using <em>all</em> the numeric predictors in the penguins data.</p></li>
<li class="fragment"><p>Describe each cluster</p></li>
<li class="fragment"><p>Do these clusters match up to the species?</p></li>
<li class="fragment"><p>Then fit a 6-means model</p></li>
<li class="fragment"><p>Do those clusters match up to species and island?</p></li>
</ul>
</section></section>
<section>
<section id="takeaways" class="title-slide slide level1 center">
<h1>Takeaways</h1>

</section>
<section id="takeaways-1" class="slide level2">
<h2>Takeaways</h2>
<ul>
<li class="fragment"><p><strong>unsupervised learning</strong> is a way to find <em>structure</em> in data</p></li>
<li class="fragment"><p><strong>k-means</strong> is the most common <strong>clustering method</strong></p></li>
<li class="fragment"><p>We <strong>have to choose K ahead of time</strong></p></li>
<li class="fragment"><p>(This is a big problem! Why can’t we tune?)</p></li>
</ul>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="13-kmeans_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="13-kmeans_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="13-kmeans_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="13-kmeans_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="13-kmeans_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="13-kmeans_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="13-kmeans_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="13-kmeans_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="13-kmeans_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="13-kmeans_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>